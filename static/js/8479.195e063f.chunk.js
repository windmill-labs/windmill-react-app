"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[8479],{8479:(e,n,t)=>{t.r(n),t.d(n,{setupMode:()=>De});var o=t(3986),r=t(9379),i=t(5055);const a=["schema","documentAST","introspectionJSON","introspectionJSONString","documentString"];var c=Object.defineProperty,s=(e,n,t)=>((e,n,t)=>n in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t)(e,"symbol"!=typeof n?n+"":n,t);function u(e,n,t){return n===t||((0,i.H)(t)?!!(0,i.H)(n)&&u(e,n.ofType,t.ofType):(0,i.H)(n)?u(e,n.ofType,t):(0,i.I)(t)?!!(0,i.I)(n)&&u(e,n.ofType,t.ofType):!(0,i.I)(n)&&((0,i.J)(t)&&((0,i.K)(n)||(0,i.L)(n))&&e.isSubType(t,n)))}function l(e,n,t){return n===t||((0,i.J)(n)?(0,i.J)(t)?e.getPossibleTypes(n).some((n=>e.isSubType(t,n))):e.isSubType(n,t):!!(0,i.J)(t)&&e.isSubType(t,n))}function d(e,n){switch(n.kind){case i.M.LIST_TYPE:{const t=d(e,n.type);return t&&new i.O(t)}case i.M.NON_NULL_TYPE:{const t=d(e,n.type);return t&&new i.N(t)}case i.M.NAMED_TYPE:return e.getType(n.name.value)}}function f(e){return e.kind===i.M.OPERATION_DEFINITION||e.kind===i.M.FRAGMENT_DEFINITION}function p(e){return e.kind===i.M.SCALAR_TYPE_DEFINITION||e.kind===i.M.OBJECT_TYPE_DEFINITION||e.kind===i.M.INTERFACE_TYPE_DEFINITION||e.kind===i.M.UNION_TYPE_DEFINITION||e.kind===i.M.ENUM_TYPE_DEFINITION||e.kind===i.M.INPUT_OBJECT_TYPE_DEFINITION}function E(e){return e.kind===i.M.SCALAR_TYPE_EXTENSION||e.kind===i.M.OBJECT_TYPE_EXTENSION||e.kind===i.M.INTERFACE_TYPE_EXTENSION||e.kind===i.M.UNION_TYPE_EXTENSION||e.kind===i.M.ENUM_TYPE_EXTENSION||e.kind===i.M.INPUT_OBJECT_TYPE_EXTENSION}function m(e){const n=Object.create(null),t=e.getSchema(),o=t?t.getDirectives():i.W;for(const i of o)n[i.name]=i.args.map((e=>e.name));const r=e.getDocument().definitions;for(const c of r)if(c.kind===i.M.DIRECTIVE_DEFINITION){var a;const e=null!==(a=c.arguments)&&void 0!==a?a:[];n[c.name.value]=e.map((e=>e.name.value))}return{Directive(t){const o=t.name.value,r=n[o];if(t.arguments&&r)for(const n of t.arguments){const t=n.name.value;if(!r.includes(t)){const a=(0,i.T)(t,r);e.reportError(new i.P('Unknown argument "'.concat(t,'" on directive "@').concat(o,'".')+(0,i.Q)(a),{nodes:n}))}}return!1}}}function T(e){const n=Object.create(null),t=e.getSchema(),o=t?t.getDirectives():i.W;for(const i of o)n[i.name]=i.locations;const r=e.getDocument().definitions;for(const a of r)a.kind===i.M.DIRECTIVE_DEFINITION&&(n[a.name.value]=a.locations.map((e=>e.value)));return{Directive(t,o,r,a,c){const s=t.name.value,u=n[s];if(!u)return void e.reportError(new i.P('Unknown directive "@'.concat(s,'".'),{nodes:t}));const l=function(e){const n=e[e.length-1];switch("kind"in n||(0,i.X)(!1),n.kind){case i.M.OPERATION_DEFINITION:return function(e){switch(e){case i._.QUERY:return i.Z.QUERY;case i._.MUTATION:return i.Z.MUTATION;case i._.SUBSCRIPTION:return i.Z.SUBSCRIPTION}}(n.operation);case i.M.FIELD:return i.Z.FIELD;case i.M.FRAGMENT_SPREAD:return i.Z.FRAGMENT_SPREAD;case i.M.INLINE_FRAGMENT:return i.Z.INLINE_FRAGMENT;case i.M.FRAGMENT_DEFINITION:return i.Z.FRAGMENT_DEFINITION;case i.M.VARIABLE_DEFINITION:return i.Z.VARIABLE_DEFINITION;case i.M.SCHEMA_DEFINITION:case i.M.SCHEMA_EXTENSION:return i.Z.SCHEMA;case i.M.SCALAR_TYPE_DEFINITION:case i.M.SCALAR_TYPE_EXTENSION:return i.Z.SCALAR;case i.M.OBJECT_TYPE_DEFINITION:case i.M.OBJECT_TYPE_EXTENSION:return i.Z.OBJECT;case i.M.FIELD_DEFINITION:return i.Z.FIELD_DEFINITION;case i.M.INTERFACE_TYPE_DEFINITION:case i.M.INTERFACE_TYPE_EXTENSION:return i.Z.INTERFACE;case i.M.UNION_TYPE_DEFINITION:case i.M.UNION_TYPE_EXTENSION:return i.Z.UNION;case i.M.ENUM_TYPE_DEFINITION:case i.M.ENUM_TYPE_EXTENSION:return i.Z.ENUM;case i.M.ENUM_VALUE_DEFINITION:return i.Z.ENUM_VALUE;case i.M.INPUT_OBJECT_TYPE_DEFINITION:case i.M.INPUT_OBJECT_TYPE_EXTENSION:return i.Z.INPUT_OBJECT;case i.M.INPUT_VALUE_DEFINITION:{const n=e[e.length-3];return"kind"in n||(0,i.X)(!1),n.kind===i.M.INPUT_OBJECT_TYPE_DEFINITION?i.Z.INPUT_FIELD_DEFINITION:i.Z.ARGUMENT_DEFINITION}default:(0,i.X)(!1,"Unexpected kind: "+(0,i.Y)(n.kind))}}(c);l&&!u.includes(l)&&e.reportError(new i.P('Directive "@'.concat(s,'" may not be used on ').concat(l,"."),{nodes:t}))}}}function v(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),o=Object.create(null);for(const i of e.getDocument().definitions)p(i)&&(o[i.name.value]=!0);const r=[...Object.keys(t),...Object.keys(o)];return{NamedType(n,a,c,s,u){const l=n.name.value;if(!t[l]&&!o[l]){var d;const t=null!==(d=u[2])&&void 0!==d?d:c,o=null!=t&&function(e){return"kind"in e&&(function(e){return e.kind===i.M.SCHEMA_DEFINITION||p(e)||e.kind===i.M.DIRECTIVE_DEFINITION}(e)||function(e){return e.kind===i.M.SCHEMA_EXTENSION||E(e)}(e))}(t);if(o&&I.includes(l))return;const a=(0,i.T)(l,o?I.concat(r):r);e.reportError(new i.P('Unknown type "'.concat(l,'".')+(0,i.Q)(a),{nodes:n}))}}}}const I=[...i.$,...i.a0].map((e=>e.name));function N(e){switch(e.kind){case i.M.OBJECT:return(0,r.A)((0,r.A)({},e),{},{fields:g(e.fields)});case i.M.LIST:return(0,r.A)((0,r.A)({},e),{},{values:e.values.map(N)});case i.M.INT:case i.M.FLOAT:case i.M.STRING:case i.M.BOOLEAN:case i.M.NULL:case i.M.ENUM:case i.M.VARIABLE:return e}}function g(e){return e.map((e=>(0,r.A)((0,r.A)({},e),{},{value:N(e.value)}))).sort(((e,n)=>(0,i.R)(e.name.value,n.name.value)))}function _(e){return Array.isArray(e)?e.map((e=>{let[n,t]=e;return'subfields "'.concat(n,'" conflict because ')+_(t)})).join(" and "):e}function h(e,n,t,o,r,i,a,c){if(o.has(a,c,i))return;o.add(a,c,i);const s=e.getFragment(c);if(!s)return;const[u,l]=A(e,t,s);if(a!==u){y(e,n,t,o,r,i,a,u);for(const c of l)h(e,n,t,o,r,i,a,c)}}function O(e,n,t,o,r,i,a,c){if(a===c||r.has(a,c,i))return;r.add(a,c,i);const s=e.getFragment(a),u=e.getFragment(c);if(!s||!u)return;const[l,d]=A(e,t,s),[f,p]=A(e,t,u);y(e,n,t,o,r,i,l,f);for(const E of p)O(e,n,t,o,r,i,a,E);for(const E of d)O(e,n,t,o,r,i,E,c)}function y(e,n,t,o,r,i,a,c){for(const[s,u]of Object.entries(a)){const a=c[s];if(a)for(const c of u)for(const u of a){const a=S(e,t,o,r,i,s,c,u);a&&n.push(a)}}}function S(e,n,t,o,r,a,c,s){const[u,l,d]=c,[f,p,E]=s,m=r||u!==f&&(0,i.L)(u)&&(0,i.L)(f);if(!m){const e=l.name.value,n=p.name.value;if(e!==n)return[[a,'"'.concat(e,'" and "').concat(n,'" are different fields')],[l],[p]];if(!function(e,n){const t=e.arguments,o=n.arguments;if(void 0===t||0===t.length)return void 0===o||0===o.length;if(void 0===o||0===o.length||t.length!==o.length)return!1;const r=new Map(o.map((e=>{let{name:n,value:t}=e;return[n.value,t]})));return t.every((e=>{const n=e.value,t=r.get(e.name.value);return void 0!==t&&M(n)===M(t)}))}(l,p))return[[a,"they have differing arguments"],[l],[p]]}const T=null==d?void 0:d.type,v=null==E?void 0:E.type;if(T&&v&&D(T,v))return[[a,'they return conflicting types "'.concat((0,i.Y)(T),'" and "').concat((0,i.Y)(v),'"')],[l],[p]];const I=l.selectionSet,N=p.selectionSet;if(I&&N){const r=function(e,n,t,o,r,i,a,c,s){const u=[],[l,d]=b(e,n,i,a),[f,p]=b(e,n,c,s);y(e,u,n,t,o,r,l,f);for(const E of p)h(e,u,n,t,o,r,l,E);for(const E of d)h(e,u,n,t,o,r,f,E);for(const E of d)for(const i of p)O(e,u,n,t,o,r,E,i);return u}(e,n,t,o,m,(0,i.a1)(T),I,(0,i.a1)(v),N);return function(e,n,t,o){if(e.length>0)return[[n,e.map((e=>{let[n]=e;return n}))],[t,...e.map((e=>{let[,n]=e;return n})).flat()],[o,...e.map((e=>{let[,,n]=e;return n})).flat()]]}(r,a,l,p)}}function M(e){return(0,i.V)(N(e))}function D(e,n){return(0,i.I)(e)?!(0,i.I)(n)||D(e.ofType,n.ofType):!!(0,i.I)(n)||((0,i.H)(e)?!(0,i.H)(n)||D(e.ofType,n.ofType):!!(0,i.H)(n)||!(!(0,i.a2)(e)&&!(0,i.a2)(n))&&e!==n)}function b(e,n,t,o){const r=n.get(o);if(r)return r;const i=Object.create(null),a=Object.create(null);F(e,t,o,i,a);const c=[i,Object.keys(a)];return n.set(o,c),c}function A(e,n,t){const o=n.get(t.selectionSet);if(o)return o;const r=d(e.getSchema(),t.typeCondition);return b(e,n,r,t.selectionSet)}function F(e,n,t,o,r){for(const a of t.selections)switch(a.kind){case i.M.FIELD:{const e=a.name.value;let t;((0,i.L)(n)||(0,i.K)(n))&&(t=n.getFields()[e]);const r=a.alias?a.alias.value:e;o[r]||(o[r]=[]),o[r].push([n,a,t]);break}case i.M.FRAGMENT_SPREAD:r[a.name.value]=!0;break;case i.M.INLINE_FRAGMENT:{const t=a.typeCondition,i=t?d(e.getSchema(),t):n;F(e,i,a.selectionSet,o,r);break}}}class P{constructor(){this._data=new Map}has(e,n,t){var o;const r=null===(o=this._data.get(e))||void 0===o?void 0:o.get(n);return void 0!==r&&(!!t||t===r)}add(e,n,t){const o=this._data.get(e);void 0===o?this._data.set(e,new Map([[n,t]])):o.set(n,t)}}class w{constructor(){this._orderedPairSet=new P}has(e,n,t){return e<n?this._orderedPairSet.has(e,n,t):this._orderedPairSet.has(n,e,t)}add(e,n,t){e<n?this._orderedPairSet.add(e,n,t):this._orderedPairSet.add(n,e,t)}}const C={[i.M.SCALAR_TYPE_DEFINITION]:i.M.SCALAR_TYPE_EXTENSION,[i.M.OBJECT_TYPE_DEFINITION]:i.M.OBJECT_TYPE_EXTENSION,[i.M.INTERFACE_TYPE_DEFINITION]:i.M.INTERFACE_TYPE_EXTENSION,[i.M.UNION_TYPE_DEFINITION]:i.M.UNION_TYPE_EXTENSION,[i.M.ENUM_TYPE_DEFINITION]:i.M.ENUM_TYPE_EXTENSION,[i.M.INPUT_OBJECT_TYPE_DEFINITION]:i.M.INPUT_OBJECT_TYPE_EXTENSION};function k(e){var n;const t=Object.create(null),o=e.getSchema(),r=null!==(n=null==o?void 0:o.getDirectives())&&void 0!==n?n:i.W;for(const s of r)t[s.name]=(0,i.a8)(s.args.filter(i.a7),(e=>e.name));const a=e.getDocument().definitions;for(const s of a)if(s.kind===i.M.DIRECTIVE_DEFINITION){var c;const e=null!==(c=s.arguments)&&void 0!==c?c:[];t[s.name.value]=(0,i.a8)(e.filter(Y),(e=>e.name.value))}return{Directive:{leave(n){const o=n.name.value,r=t[o];if(r){var a;const t=null!==(a=n.arguments)&&void 0!==a?a:[],c=new Set(t.map((e=>e.name.value)));for(const[a,s]of Object.entries(r))if(!c.has(a)){const t=(0,i.a9)(s.type)?(0,i.Y)(s.type):(0,i.V)(s.type);e.reportError(new i.P('Directive "@'.concat(o,'" argument "').concat(a,'" of type "').concat(t,'" is required, but it was not provided.'),{nodes:n}))}}}}}}function Y(e){return e.type.kind===i.M.NON_NULL_TYPE&&null==e.defaultValue}function U(e,n,t){var o;const r=null===(o=n.directives)||void 0===o?void 0:o.find((n=>n.name.value===e.name));if(r)return function(e,n,t){var o;const r={},a=null!==(o=n.arguments)&&void 0!==o?o:[],c=(0,i.a8)(a,(e=>e.name.value));for(const s of e.args){const e=s.name,o=s.type,a=c[e];if(!a){if(void 0!==s.defaultValue)r[e]=s.defaultValue;else if((0,i.H)(o))throw new i.P('Argument "'.concat(e,'" of required type "').concat((0,i.Y)(o),'" was not provided.'),{nodes:n});continue}const u=a.value;let l=u.kind===i.M.NULL;if(u.kind===i.M.VARIABLE){const n=u.name.value;if(null==t||!R(t,n)){if(void 0!==s.defaultValue)r[e]=s.defaultValue;else if((0,i.H)(o))throw new i.P('Argument "'.concat(e,'" of required type "').concat((0,i.Y)(o),'" was provided the variable "$').concat(n,'" which was not provided a runtime value.'),{nodes:u});continue}l=null==t[n]}if(l&&(0,i.H)(o))throw new i.P('Argument "'.concat(e,'" of non-null type "').concat((0,i.Y)(o),'" must not be null.'),{nodes:u});const d=(0,i.aa)(u,o,t);if(void 0===d)throw new i.P('Argument "'.concat(e,'" has invalid value ').concat((0,i.V)(u),"."),{nodes:u});r[e]=d}return r}(e,r,t)}function R(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function j(e,n,t,o,r){const i=new Map;return V(e,n,t,o,r,i,new Set),i}function V(e,n,t,o,r,a,c){for(const s of r.selections)switch(s.kind){case i.M.FIELD:{if(!L(t,s))continue;const e=X(s),n=a.get(e);void 0!==n?n.push(s):a.set(e,[s]);break}case i.M.INLINE_FRAGMENT:if(!L(t,s)||!x(e,s,o))continue;V(e,n,t,o,s.selectionSet,a,c);break;case i.M.FRAGMENT_SPREAD:{const r=s.name.value;if(c.has(r)||!L(t,s))continue;c.add(r);const i=n[r];if(!i||!x(e,i,o))continue;V(e,n,t,o,i.selectionSet,a,c);break}}}function L(e,n){const t=U(i.ab,n,e);if(!0===(null==t?void 0:t.if))return!1;const o=U(i.ac,n,e);return!1!==(null==o?void 0:o.if)}function x(e,n,t){const o=n.typeCondition;if(!o)return!0;const r=d(e,o);return r===t||!!(0,i.J)(r)&&e.isSubType(r,t)}function X(e){return e.alias?e.alias.value:e.name.value}function B(e,n){const t=new Map;for(const o of e){const e=n(o),r=t.get(e);void 0===r?t.set(e,[o]):r.push(o)}return t}function J(e){return{Field:n,Directive:n};function n(n){var t;const o=B(null!==(t=n.arguments)&&void 0!==t?t:[],(e=>e.name.value));for(const[r,a]of o)a.length>1&&e.reportError(new i.P('There can be only one argument named "'.concat(r,'".'),{nodes:a.map((e=>e.name))}))}}function H(e){const n=Object.create(null),t=e.getSchema(),o=t?t.getDirectives():i.W;for(const i of o)n[i.name]=!i.isRepeatable;const r=e.getDocument().definitions;for(const s of r)s.kind===i.M.DIRECTIVE_DEFINITION&&(n[s.name.value]=!s.repeatable);const a=Object.create(null),c=Object.create(null);return{enter(t){if(!("directives"in t)||!t.directives)return;let o;if(t.kind===i.M.SCHEMA_DEFINITION||t.kind===i.M.SCHEMA_EXTENSION)o=a;else if(p(t)||E(t)){const e=t.name.value;o=c[e],void 0===o&&(c[e]=o=Object.create(null))}else o=Object.create(null);for(const r of t.directives){const t=r.name.value;n[t]&&(o[t]?e.reportError(new i.P('The directive "@'.concat(t,'" can only be used once at this location.'),{nodes:[o[t],r]})):o[t]=r)}}}}function G(e,n){return!!((0,i.L)(e)||(0,i.K)(e)||(0,i.a6)(e))&&null!=e.getFields()[n]}function Z(e){const n=[];let t=Object.create(null);return{ObjectValue:{enter(){n.push(t),t=Object.create(null)},leave(){const e=n.pop();e||(0,i.X)(!1),t=e}},ObjectField(n){const o=n.name.value;t[o]?e.reportError(new i.P('There can be only one input field named "'.concat(o,'".'),{nodes:[t[o],n.name]})):t[o]=n.name}}}function q(e,n){const t=e.getInputType();if(!t)return;const o=(0,i.a1)(t);if((0,i.a2)(o))try{if(void 0===o.parseLiteral(n,void 0)){const o=(0,i.Y)(t);e.reportError(new i.P('Expected value of type "'.concat(o,'", found ').concat((0,i.V)(n),"."),{nodes:n}))}}catch(r){const o=(0,i.Y)(t);r instanceof i.P?e.reportError(r):e.reportError(new i.P('Expected value of type "'.concat(o,'", found ').concat((0,i.V)(n),"; ")+r.message,{nodes:n,originalError:r}))}else{const o=(0,i.Y)(t);e.reportError(new i.P('Expected value of type "'.concat(o,'", found ').concat((0,i.V)(n),"."),{nodes:n}))}}function W(e,n,t,o,r){if((0,i.H)(o)&&!(0,i.H)(n)){if((null==t||t.kind===i.M.NULL)&&void 0===r)return!1;return u(e,n,o.ofType)}return u(e,n,o)}const Q=Object.freeze([function(e){function n(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.kind===i.M.FRAGMENT_SPREAD){const i=t.name.value;if(!0===o[i])return!1;const a=e.getFragment(i);if(!a)return!1;try{return o[i]=!0,n(a,o,r)}finally{o[i]=void 0}}if(t.kind===i.M.FIELD&&("fields"===t.name.value||"interfaces"===t.name.value||"possibleTypes"===t.name.value||"inputFields"===t.name.value)&&(r++,r>=3))return!0;if("selectionSet"in t&&t.selectionSet)for(const e of t.selectionSet.selections)if(n(e,o,r))return!0;return!1}return{Field(t){if(("__schema"===t.name.value||"__type"===t.name.value)&&n(t))return e.reportError(new i.P("Maximum introspection depth exceeded",{nodes:[t]})),!1}}}]);Object.freeze([function(e){return{Document(n){for(const t of n.definitions)if(!f(t)){const n=t.kind===i.M.SCHEMA_DEFINITION||t.kind===i.M.SCHEMA_EXTENSION?"schema":'"'+t.name.value+'"';e.reportError(new i.P("The ".concat(n," definition is not executable."),{nodes:t}))}return!1}}},function(e){const n=Object.create(null);return{OperationDefinition(t){const o=t.name;return o&&(n[o.value]?e.reportError(new i.P('There can be only one operation named "'.concat(o.value,'".'),{nodes:[n[o.value],o]})):n[o.value]=o),!1},FragmentDefinition:()=>!1}},function(e){let n=0;return{Document(e){n=e.definitions.filter((e=>e.kind===i.M.OPERATION_DEFINITION)).length},OperationDefinition(t){!t.name&&n>1&&e.reportError(new i.P("This anonymous operation must be the only defined operation.",{nodes:t}))}}},function(e){return{OperationDefinition(n){if("subscription"===n.operation){const t=e.getSchema(),o=t.getSubscriptionType();if(o){const r=n.name?n.name.value:null,a=Object.create(null),c=e.getDocument(),s=Object.create(null);for(const e of c.definitions)e.kind===i.M.FRAGMENT_DEFINITION&&(s[e.name.value]=e);const u=j(t,s,a,o,n.selectionSet);if(u.size>1){const n=[...u.values()].slice(1).flat();e.reportError(new i.P(null!=r?'Subscription "'.concat(r,'" must select only one top level field.'):"Anonymous Subscription must select only one top level field.",{nodes:n}))}for(const n of u.values())n[0].name.value.startsWith("__")&&e.reportError(new i.P(null!=r?'Subscription "'.concat(r,'" must not select an introspection top level field.'):"Anonymous Subscription must not select an introspection top level field.",{nodes:n}))}}}}},v,function(e){return{InlineFragment(n){const t=n.typeCondition;if(t){const n=d(e.getSchema(),t);if(n&&!(0,i.U)(n)){const n=(0,i.V)(t);e.reportError(new i.P('Fragment cannot condition on non composite type "'.concat(n,'".'),{nodes:t}))}}},FragmentDefinition(n){const t=d(e.getSchema(),n.typeCondition);if(t&&!(0,i.U)(t)){const t=(0,i.V)(n.typeCondition);e.reportError(new i.P('Fragment "'.concat(n.name.value,'" cannot condition on non composite type "').concat(t,'".'),{nodes:n.typeCondition}))}}}},function(e){return{VariableDefinition(n){const t=d(e.getSchema(),n.type);if(void 0!==t&&!(0,i.af)(t)){const t=n.variable.name.value,o=(0,i.V)(n.type);e.reportError(new i.P('Variable "$'.concat(t,'" cannot be non-input type "').concat(o,'".'),{nodes:n.type}))}}}},function(e){return{Field(n){const t=e.getType(),o=n.selectionSet;if(t)if((0,i.a2)((0,i.a1)(t))){if(o){const r=n.name.value,a=(0,i.Y)(t);e.reportError(new i.P('Field "'.concat(r,'" must not have a selection since type "').concat(a,'" has no subfields.'),{nodes:o}))}}else if(o){if(0===o.selections.length){const o=n.name.value,r=(0,i.Y)(t);e.reportError(new i.P('Field "'.concat(o,'" of type "').concat(r,'" must have at least one field selected.'),{nodes:n}))}}else{const o=n.name.value,r=(0,i.Y)(t);e.reportError(new i.P('Field "'.concat(o,'" of type "').concat(r,'" must have a selection of subfields. Did you mean "').concat(o,' { ... }"?'),{nodes:n}))}}}},function(e){return{Field(n){const t=e.getParentType();if(t&&!e.getFieldDef()){const o=e.getSchema(),r=n.name.value;let a=(0,i.Q)("to use an inline fragment on",function(e,n,t){if(!(0,i.J)(n))return[];const o=new Set,r=Object.create(null);for(const i of e.getPossibleTypes(n))if(i.getFields()[t]){o.add(i),r[i.name]=1;for(const e of i.getInterfaces()){var a;e.getFields()[t]&&(o.add(e),r[e.name]=(null!==(a=r[e.name])&&void 0!==a?a:0)+1)}}return[...o].sort(((n,t)=>{const o=r[t.name]-r[n.name];return 0!==o?o:(0,i.K)(n)&&e.isSubType(n,t)?-1:(0,i.K)(t)&&e.isSubType(t,n)?1:(0,i.R)(n.name,t.name)})).map((e=>e.name))}(o,t,r));""===a&&(a=(0,i.Q)(function(e,n){if((0,i.L)(e)||(0,i.K)(e)){const t=Object.keys(e.getFields());return(0,i.T)(n,t)}return[]}(t,r))),e.reportError(new i.P('Cannot query field "'.concat(r,'" on type "').concat(t.name,'".')+a,{nodes:n}))}}}},function(e){const n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(t){const o=t.name.value;return n[o]?e.reportError(new i.P('There can be only one fragment named "'.concat(o,'".'),{nodes:[n[o],t.name]})):n[o]=t.name,!1}}},function(e){return{FragmentSpread(n){const t=n.name.value;e.getFragment(t)||e.reportError(new i.P('Unknown fragment "'.concat(t,'".'),{nodes:n.name}))}}},function(e){const n=[],t=[];return{OperationDefinition:e=>(n.push(e),!1),FragmentDefinition:e=>(t.push(e),!1),Document:{leave(){const o=Object.create(null);for(const t of n)for(const n of e.getRecursivelyReferencedFragments(t))o[n.name.value]=!0;for(const n of t){const t=n.name.value;!0!==o[t]&&e.reportError(new i.P('Fragment "'.concat(t,'" is never used.'),{nodes:n}))}}}}},function(e){return{InlineFragment(n){const t=e.getType(),o=e.getParentType();if((0,i.U)(t)&&(0,i.U)(o)&&!l(e.getSchema(),t,o)){const r=(0,i.Y)(o),a=(0,i.Y)(t);e.reportError(new i.P('Fragment cannot be spread here as objects of type "'.concat(r,'" can never be of type "').concat(a,'".'),{nodes:n}))}},FragmentSpread(n){const t=n.name.value,o=function(e,n){const t=e.getFragment(n);if(t){const n=d(e.getSchema(),t.typeCondition);if((0,i.U)(n))return n}}(e,t),r=e.getParentType();if(o&&r&&!l(e.getSchema(),o,r)){const a=(0,i.Y)(r),c=(0,i.Y)(o);e.reportError(new i.P('Fragment "'.concat(t,'" cannot be spread here as objects of type "').concat(a,'" can never be of type "').concat(c,'".'),{nodes:n}))}}}},function(e){const n=Object.create(null),t=[],o=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(r(e),!1)};function r(a){if(n[a.name.value])return;const c=a.name.value;n[c]=!0;const s=e.getFragmentSpreads(a.selectionSet);if(0!==s.length){o[c]=t.length;for(const n of s){const a=n.name.value,c=o[a];if(t.push(n),void 0===c){const n=e.getFragment(a);n&&r(n)}else{const n=t.slice(c),o=n.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new i.P('Cannot spread fragment "'.concat(a,'" within itself')+(""!==o?" via ".concat(o,"."):"."),{nodes:n}))}t.pop()}o[c]=void 0}}},function(e){return{OperationDefinition(n){var t;const o=B(null!==(t=n.variableDefinitions)&&void 0!==t?t:[],(e=>e.variable.name.value));for(const[r,a]of o)a.length>1&&e.reportError(new i.P('There can be only one variable named "$'.concat(r,'".'),{nodes:a.map((e=>e.variable.name))}))}}},function(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(t){const o=e.getRecursiveVariableUsages(t);for(const{node:r}of o){const o=r.name.value;!0!==n[o]&&e.reportError(new i.P(t.name?'Variable "$'.concat(o,'" is not defined by operation "').concat(t.name.value,'".'):'Variable "$'.concat(o,'" is not defined.'),{nodes:[r,t]}))}}},VariableDefinition(e){n[e.variable.name.value]=!0}}},function(e){let n=[];return{OperationDefinition:{enter(){n=[]},leave(t){const o=Object.create(null),r=e.getRecursiveVariableUsages(t);for(const{node:e}of r)o[e.name.value]=!0;for(const a of n){const n=a.variable.name.value;!0!==o[n]&&e.reportError(new i.P(t.name?'Variable "$'.concat(n,'" is never used in operation "').concat(t.name.value,'".'):'Variable "$'.concat(n,'" is never used.'),{nodes:a}))}}},VariableDefinition(e){n.push(e)}}},T,H,function(e){return(0,r.A)((0,r.A)({},m(e)),{},{Argument(n){const t=e.getArgument(),o=e.getFieldDef(),r=e.getParentType();if(!t&&o&&r){const t=n.name.value,a=o.args.map((e=>e.name)),c=(0,i.T)(t,a);e.reportError(new i.P('Unknown argument "'.concat(t,'" on field "').concat(r.name,".").concat(o.name,'".')+(0,i.Q)(c),{nodes:n}))}}})},J,function(e){let n={};return{OperationDefinition:{enter(){n={}}},VariableDefinition(e){n[e.variable.name.value]=e},ListValue(n){const t=(0,i.ad)(e.getParentInputType());if(!(0,i.I)(t))return q(e,n),!1},ObjectValue(t){const o=(0,i.a1)(e.getInputType());if(!(0,i.a6)(o))return q(e,t),!1;const r=(0,i.a8)(t.fields,(e=>e.name.value));for(const n of Object.values(o.getFields()))if(!r[n.name]&&(0,i.ae)(n)){const r=(0,i.Y)(n.type);e.reportError(new i.P('Field "'.concat(o.name,".").concat(n.name,'" of required type "').concat(r,'" was not provided.'),{nodes:t}))}o.isOneOf&&function(e,n,t,o,r){var a;const c=Object.keys(o);if(1!==c.length)return void e.reportError(new i.P('OneOf Input Object "'.concat(t.name,'" must specify exactly one key.'),{nodes:[n]}));const s=null===(a=o[c[0]])||void 0===a?void 0:a.value,u=!s||s.kind===i.M.NULL,l=(null==s?void 0:s.kind)===i.M.VARIABLE;if(u)return void e.reportError(new i.P('Field "'.concat(t.name,".").concat(c[0],'" must be non-null.'),{nodes:[n]}));if(l){const o=s.name.value;r[o].type.kind!==i.M.NON_NULL_TYPE&&e.reportError(new i.P('Variable "'.concat(o,'" must be non-nullable to be used for OneOf Input Object "').concat(t.name,'".'),{nodes:[n]}))}}(e,t,o,r,n)},ObjectField(n){const t=(0,i.a1)(e.getParentInputType());if(!e.getInputType()&&(0,i.a6)(t)){const o=(0,i.T)(n.name.value,Object.keys(t.getFields()));e.reportError(new i.P('Field "'.concat(n.name.value,'" is not defined by type "').concat(t.name,'".')+(0,i.Q)(o),{nodes:n}))}},NullValue(n){const t=e.getInputType();(0,i.H)(t)&&e.reportError(new i.P('Expected value of type "'.concat((0,i.Y)(t),'", found ').concat((0,i.V)(n),"."),{nodes:n}))},EnumValue:n=>q(e,n),IntValue:n=>q(e,n),FloatValue:n=>q(e,n),StringValue:n=>q(e,n),BooleanValue:n=>q(e,n)}},function(e){return(0,r.A)((0,r.A)({},k(e)),{},{Field:{leave(n){var t;const o=e.getFieldDef();if(!o)return!1;const r=new Set(null===(t=n.arguments)||void 0===t?void 0:t.map((e=>e.name.value)));for(const a of o.args)if(!r.has(a.name)&&(0,i.a7)(a)){const t=(0,i.Y)(a.type);e.reportError(new i.P('Field "'.concat(o.name,'" argument "').concat(a.name,'" of type "').concat(t,'" is required, but it was not provided.'),{nodes:n}))}}}})},function(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(t){const o=e.getRecursiveVariableUsages(t);for(const{node:r,type:a,defaultValue:c}of o){const t=r.name.value,o=n[t];if(o&&a){const n=e.getSchema(),s=d(n,o.type);if(s&&!W(n,s,o.defaultValue,a,c)){const n=(0,i.Y)(s),c=(0,i.Y)(a);e.reportError(new i.P('Variable "$'.concat(t,'" of type "').concat(n,'" used in position expecting type "').concat(c,'".'),{nodes:[o,r]}))}}}}},VariableDefinition(e){n[e.variable.name.value]=e}}},function(e){const n=new P,t=new w,o=new Map;return{SelectionSet(r){const a=function(e,n,t,o,r,i){const a=[],[c,s]=b(e,n,r,i);if(function(e,n,t,o,r,i){for(const[a,c]of Object.entries(i))if(c.length>1)for(let i=0;i<c.length;i++)for(let s=i+1;s<c.length;s++){const u=S(e,t,o,r,!1,a,c[i],c[s]);u&&n.push(u)}}(e,a,n,t,o,c),0!==s.length)for(let u=0;u<s.length;u++){h(e,a,n,t,o,!1,c,s[u]);for(let r=u+1;r<s.length;r++)O(e,a,n,t,o,!1,s[u],s[r])}return a}(e,o,n,t,e.getParentType(),r);for(const[[n,t],o,c]of a){const r=_(t);e.reportError(new i.P('Fields "'.concat(n,'" conflict because ').concat(r,". Use different aliases on the fields to fetch both if this was intentional."),{nodes:o.concat(c)}))}}}},Z,...Q]);const K=Object.freeze([function(e){var n,t,o;const r=e.getSchema(),a=null!==(n=null!==(t=null!==(o=null==r?void 0:r.astNode)&&void 0!==o?o:null==r?void 0:r.getQueryType())&&void 0!==t?t:null==r?void 0:r.getMutationType())&&void 0!==n?n:null==r?void 0:r.getSubscriptionType();let c=0;return{SchemaDefinition(n){a?e.reportError(new i.P("Cannot define a new schema within a schema extension.",{nodes:n})):(c>0&&e.reportError(new i.P("Must provide only one schema definition.",{nodes:n})),++c)}}},function(e){const n=e.getSchema(),t=Object.create(null),o=n?{query:n.getQueryType(),mutation:n.getMutationType(),subscription:n.getSubscriptionType()}:{};return{SchemaDefinition:r,SchemaExtension:r};function r(n){var r;const a=null!==(r=n.operationTypes)&&void 0!==r?r:[];for(const c of a){const n=c.operation,r=t[n];o[n]?e.reportError(new i.P("Type for ".concat(n," already defined in the schema. It cannot be redefined."),{nodes:c})):r?e.reportError(new i.P("There can be only one ".concat(n," type in schema."),{nodes:[r,c]})):t[n]=c}return!1}},function(e){const n=Object.create(null),t=e.getSchema();return{ScalarTypeDefinition:o,ObjectTypeDefinition:o,InterfaceTypeDefinition:o,UnionTypeDefinition:o,EnumTypeDefinition:o,InputObjectTypeDefinition:o};function o(o){const r=o.name.value;if(null==t||!t.getType(r))return n[r]?e.reportError(new i.P('There can be only one type named "'.concat(r,'".'),{nodes:[n[r],o.name]})):n[r]=o.name,!1;e.reportError(new i.P('Type "'.concat(r,'" already exists in the schema. It cannot also be defined in this type definition.'),{nodes:o.name}))}},function(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),o=Object.create(null);return{EnumTypeDefinition:r,EnumTypeExtension:r};function r(n){var r;const a=n.name.value;o[a]||(o[a]=Object.create(null));const c=null!==(r=n.values)&&void 0!==r?r:[],s=o[a];for(const o of c){const n=o.name.value,r=t[a];(0,i.a5)(r)&&r.getValue(n)?e.reportError(new i.P('Enum value "'.concat(a,".").concat(n,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:o.name})):s[n]?e.reportError(new i.P('Enum value "'.concat(a,".").concat(n,'" can only be defined once.'),{nodes:[s[n],o.name]})):s[n]=o.name}return!1}},function(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),o=Object.create(null);return{InputObjectTypeDefinition:r,InputObjectTypeExtension:r,InterfaceTypeDefinition:r,InterfaceTypeExtension:r,ObjectTypeDefinition:r,ObjectTypeExtension:r};function r(n){var r;const a=n.name.value;o[a]||(o[a]=Object.create(null));const c=null!==(r=n.fields)&&void 0!==r?r:[],s=o[a];for(const o of c){const n=o.name.value;G(t[a],n)?e.reportError(new i.P('Field "'.concat(a,".").concat(n,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:o.name})):s[n]?e.reportError(new i.P('Field "'.concat(a,".").concat(n,'" can only be defined once.'),{nodes:[s[n],o.name]})):s[n]=o.name}return!1}},function(e){return{DirectiveDefinition(e){var n;const o=null!==(n=e.arguments)&&void 0!==n?n:[];return t("@".concat(e.name.value),o)},InterfaceTypeDefinition:n,InterfaceTypeExtension:n,ObjectTypeDefinition:n,ObjectTypeExtension:n};function n(e){var n;const o=e.name.value,r=null!==(n=e.fields)&&void 0!==n?n:[];for(const a of r){var i;const e=a.name.value,n=null!==(i=a.arguments)&&void 0!==i?i:[];t("".concat(o,".").concat(e),n)}return!1}function t(n,t){const o=B(t,(e=>e.name.value));for(const[r,a]of o)a.length>1&&e.reportError(new i.P('Argument "'.concat(n,"(").concat(r,':)" can only be defined once.'),{nodes:a.map((e=>e.name))}));return!1}},function(e){const n=Object.create(null),t=e.getSchema();return{DirectiveDefinition(o){const r=o.name.value;if(null==t||!t.getDirective(r))return n[r]?e.reportError(new i.P('There can be only one directive named "@'.concat(r,'".'),{nodes:[n[r],o.name]})):n[r]=o.name,!1;e.reportError(new i.P('Directive "@'.concat(r,'" already exists in the schema. It cannot be redefined.'),{nodes:o.name}))}}},v,T,H,function(e){const n=e.getSchema(),t=Object.create(null);for(const r of e.getDocument().definitions)p(r)&&(t[r.name.value]=r);return{ScalarTypeExtension:o,ObjectTypeExtension:o,InterfaceTypeExtension:o,UnionTypeExtension:o,EnumTypeExtension:o,InputObjectTypeExtension:o};function o(o){const a=o.name.value,c=t[a],s=null==n?void 0:n.getType(a);let u;if(c?u=C[c.kind]:s&&(u=function(e){if((0,i.a3)(e))return i.M.SCALAR_TYPE_EXTENSION;if((0,i.L)(e))return i.M.OBJECT_TYPE_EXTENSION;if((0,i.K)(e))return i.M.INTERFACE_TYPE_EXTENSION;if((0,i.a4)(e))return i.M.UNION_TYPE_EXTENSION;if((0,i.a5)(e))return i.M.ENUM_TYPE_EXTENSION;if((0,i.a6)(e))return i.M.INPUT_OBJECT_TYPE_EXTENSION;(0,i.X)(!1,"Unexpected type: "+(0,i.Y)(e))}(s)),u){if(u!==o.kind){const n=function(e){switch(e){case i.M.SCALAR_TYPE_EXTENSION:return"scalar";case i.M.OBJECT_TYPE_EXTENSION:return"object";case i.M.INTERFACE_TYPE_EXTENSION:return"interface";case i.M.UNION_TYPE_EXTENSION:return"union";case i.M.ENUM_TYPE_EXTENSION:return"enum";case i.M.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,i.X)(!1,"Unexpected kind: "+(0,i.Y)(e))}}(o.kind);e.reportError(new i.P("Cannot extend non-".concat(n,' type "').concat(a,'".'),{nodes:c?[c,o]:o}))}}else{const c=Object.keys((0,r.A)((0,r.A)({},t),null==n?void 0:n.getTypeMap())),s=(0,i.T)(a,c);e.reportError(new i.P('Cannot extend type "'.concat(a,'" because it is not defined.')+(0,i.Q)(s),{nodes:o.name}))}}},m,J,Z,k]);class ${constructor(e,n){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const e of this.getDocument().definitions)e.kind===i.M.FRAGMENT_DEFINITION&&(n[e.name.value]=e);this._fragments=n}return n[e]}getFragmentSpreads(e){let n=this._fragmentSpreads.get(e);if(!n){n=[];const t=[e];let o;for(;o=t.pop();)for(const e of o.selections)e.kind===i.M.FRAGMENT_SPREAD?n.push(e):e.selectionSet&&t.push(e.selectionSet);this._fragmentSpreads.set(e,n)}return n}getRecursivelyReferencedFragments(e){let n=this._recursivelyReferencedFragments.get(e);if(!n){n=[];const t=Object.create(null),o=[e.selectionSet];let r;for(;r=o.pop();)for(const e of this.getFragmentSpreads(r)){const r=e.name.value;if(!0!==t[r]){t[r]=!0;const e=this.getFragment(r);e&&(n.push(e),o.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,n)}return n}}class z extends ${constructor(e,n,t){super(e,t),this._schema=n}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function ee(e){const n=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const o=[],r=new z(e,n,(e=>{o.push(e)})),a=t.map((e=>e(r)));return(0,i.ag)(e,(0,i.ah)(a)),o}(e);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}function ne(e,n,t){var o,a,c,s;const u=[],l=Object.create(null),d=[];let f;const m=[];for(const r of n.definitions)if(r.kind===i.M.SCHEMA_DEFINITION)f=r;else if(r.kind===i.M.SCHEMA_EXTENSION)m.push(r);else if(p(r))u.push(r);else if(E(r)){const e=r.name.value,n=l[e];l[e]=n?n.concat([r]):[r]}else r.kind===i.M.DIRECTIVE_DEFINITION&&d.push(r);if(0===Object.keys(l).length&&0===u.length&&0===d.length&&0===m.length&&null==f)return e;const T=Object.create(null);for(const r of e.types)T[r.name]=_(r);for(const r of u){var v;const e=r.name.value;T[e]=null!==(v=te[e])&&void 0!==v?v:C(r)}const I=(0,r.A)((0,r.A)({query:e.query&&g(e.query),mutation:e.mutation&&g(e.mutation),subscription:e.subscription&&g(e.subscription)},f&&y([f])),y(m));return(0,r.A)((0,r.A)({description:null===(o=f)||void 0===o||null===(a=o.description)||void 0===a?void 0:a.value},I),{},{types:Object.values(T),directives:[...e.directives.map((function(e){const n=e.toConfig();return new i.ai((0,r.A)((0,r.A)({},n),{},{args:(0,i.aj)(n.args,O)}))})),...d.map((function(e){var n;return new i.ai({name:e.name.value,description:null===(n=e.description)||void 0===n?void 0:n.value,locations:e.locations.map((e=>{let{value:n}=e;return n})),isRepeatable:e.repeatable,args:b(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(c=f)&&void 0!==c?c:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(m),assumeValid:null!==(s=null==t?void 0:t.assumeValid)&&void 0!==s&&s});function N(e){return(0,i.I)(e)?new i.O(N(e.ofType)):(0,i.H)(e)?new i.N(N(e.ofType)):g(e)}function g(e){return T[e.name]}function _(e){return(0,i.ak)(e)||(0,i.al)(e)?e:(0,i.a3)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[t.name])&&void 0!==n?n:[];let a=t.specifiedByURL;for(const r of o){var c;a=null!==(c=re(r))&&void 0!==c?c:a}return new i.ao((0,r.A)((0,r.A)({},t),{},{specifiedByURL:a,extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):(0,i.L)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[t.name])&&void 0!==n?n:[];return new i.ap((0,r.A)((0,r.A)({},t),{},{interfaces:()=>[...e.getInterfaces().map(g),...P(o)],fields:()=>(0,r.A)((0,r.A)({},(0,i.aj)(t.fields,h)),D(o)),extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):(0,i.K)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[t.name])&&void 0!==n?n:[];return new i.aq((0,r.A)((0,r.A)({},t),{},{interfaces:()=>[...e.getInterfaces().map(g),...P(o)],fields:()=>(0,r.A)((0,r.A)({},(0,i.aj)(t.fields,h)),D(o)),extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):(0,i.a4)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[t.name])&&void 0!==n?n:[];return new i.ar((0,r.A)((0,r.A)({},t),{},{types:()=>[...e.getTypes().map(g),...w(o)],extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):(0,i.a5)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[e.name])&&void 0!==n?n:[];return new i.an((0,r.A)((0,r.A)({},t),{},{values:(0,r.A)((0,r.A)({},t.values),F(o)),extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):(0,i.a6)(e)?function(e){var n;const t=e.toConfig(),o=null!==(n=l[t.name])&&void 0!==n?n:[];return new i.am((0,r.A)((0,r.A)({},t),{},{fields:()=>(0,r.A)((0,r.A)({},(0,i.aj)(t.fields,(e=>(0,r.A)((0,r.A)({},e),{},{type:N(e.type)})))),A(o)),extensionASTNodes:t.extensionASTNodes.concat(o)}))}(e):void(0,i.X)(!1,"Unexpected type: "+(0,i.Y)(e))}function h(e){return(0,r.A)((0,r.A)({},e),{},{type:N(e.type),args:e.args&&(0,i.aj)(e.args,O)})}function O(e){return(0,r.A)((0,r.A)({},e),{},{type:N(e.type)})}function y(e){const n={};for(const o of e){var t;const e=null!==(t=o.operationTypes)&&void 0!==t?t:[];for(const t of e)n[t.operation]=S(t.type)}return n}function S(e){var n;const t=e.name.value,o=null!==(n=te[t])&&void 0!==n?n:T[t];if(void 0===o)throw new Error('Unknown type: "'.concat(t,'".'));return o}function M(e){return e.kind===i.M.LIST_TYPE?new i.O(M(e.type)):e.kind===i.M.NON_NULL_TYPE?new i.N(M(e.type)):S(e)}function D(e){const n=Object.create(null);for(const r of e){var t;const e=null!==(t=r.fields)&&void 0!==t?t:[];for(const t of e){var o;n[t.name.value]={type:M(t.type),description:null===(o=t.description)||void 0===o?void 0:o.value,args:b(t.arguments),deprecationReason:oe(t),astNode:t}}}return n}function b(e){const n=null!==e&&void 0!==e?e:[],t=Object.create(null);for(const r of n){var o;const e=M(r.type);t[r.name.value]={type:e,description:null===(o=r.description)||void 0===o?void 0:o.value,defaultValue:(0,i.aa)(r.defaultValue,e),deprecationReason:oe(r),astNode:r}}return t}function A(e){const n=Object.create(null);for(const r of e){var t;const e=null!==(t=r.fields)&&void 0!==t?t:[];for(const t of e){var o;const e=M(t.type);n[t.name.value]={type:e,description:null===(o=t.description)||void 0===o?void 0:o.value,defaultValue:(0,i.aa)(t.defaultValue,e),deprecationReason:oe(t),astNode:t}}}return n}function F(e){const n=Object.create(null);for(const r of e){var t;const e=null!==(t=r.values)&&void 0!==t?t:[];for(const t of e){var o;n[t.name.value]={description:null===(o=t.description)||void 0===o?void 0:o.value,deprecationReason:oe(t),astNode:t}}}return n}function P(e){return e.flatMap((e=>{var n,t;return null!==(n=null===(t=e.interfaces)||void 0===t?void 0:t.map(S))&&void 0!==n?n:[]}))}function w(e){return e.flatMap((e=>{var n,t;return null!==(n=null===(t=e.types)||void 0===t?void 0:t.map(S))&&void 0!==n?n:[]}))}function C(e){var n;const t=e.name.value,o=null!==(n=l[t])&&void 0!==n?n:[];switch(e.kind){case i.M.OBJECT_TYPE_DEFINITION:{var r;const n=[e,...o];return new i.ap({name:t,description:null===(r=e.description)||void 0===r?void 0:r.value,interfaces:()=>P(n),fields:()=>D(n),astNode:e,extensionASTNodes:o})}case i.M.INTERFACE_TYPE_DEFINITION:{var a;const n=[e,...o];return new i.aq({name:t,description:null===(a=e.description)||void 0===a?void 0:a.value,interfaces:()=>P(n),fields:()=>D(n),astNode:e,extensionASTNodes:o})}case i.M.ENUM_TYPE_DEFINITION:{var c;const n=[e,...o];return new i.an({name:t,description:null===(c=e.description)||void 0===c?void 0:c.value,values:F(n),astNode:e,extensionASTNodes:o})}case i.M.UNION_TYPE_DEFINITION:{var s;const n=[e,...o];return new i.ar({name:t,description:null===(s=e.description)||void 0===s?void 0:s.value,types:()=>w(n),astNode:e,extensionASTNodes:o})}case i.M.SCALAR_TYPE_DEFINITION:var u;return new i.ao({name:t,description:null===(u=e.description)||void 0===u?void 0:u.value,specifiedByURL:re(e),astNode:e,extensionASTNodes:o});case i.M.INPUT_OBJECT_TYPE_DEFINITION:{var d;const n=[e,...o];return new i.am({name:t,description:null===(d=e.description)||void 0===d?void 0:d.value,fields:()=>A(n),astNode:e,extensionASTNodes:o,isOneOf:ie(e)})}}}}const te=(0,i.a8)([...i.$,...i.a0],(e=>e.name));function oe(e){const n=U(i.as,e);return null==n?void 0:n.reason}function re(e){const n=U(i.at,e);return null==n?void 0:n.url}function ie(e){return!!U(i.au,e)}function ae(e){return{ofRule:e}}function ce(e,n){return{ofRule:e,isList:!0,separator:n}}function se(e,n){return{style:n,match:n=>n.kind===e}}function ue(e,n){return{style:n||"punctuation",match:n=>"Punctuation"===n.kind&&n.value===e}}var le;function de(e){return{style:"keyword",match:n=>"Name"===n.kind&&n.value===e}}function fe(e){return{style:e,match:e=>"Name"===e.kind,update(e,n){e.name=n.value}}}ce("Definition"),de("query"),ae(fe("def")),ae("VariableDefinitions"),ce("Directive"),de("mutation"),ae(fe("def")),ae("VariableDefinitions"),ce("Directive"),de("subscription"),ae(fe("def")),ae("VariableDefinitions"),ce("Directive"),ue("("),ce("VariableDefinition"),ue(")"),ue(":"),ae("DefaultValue"),ue("$","variable"),fe("variable"),ue("="),ue("{"),ce("Selection"),ue("}"),fe("property"),ue(":"),fe("qualifier"),ae("Arguments"),ce("Directive"),ae("SelectionSet"),fe("property"),ae("Arguments"),ce("Directive"),ae("SelectionSet"),ue("("),ce("Argument"),ue(")"),fe("attribute"),ue(":"),ue("..."),fe("def"),ce("Directive"),ue("..."),ae("TypeCondition"),ce("Directive"),de("fragment"),ae(function(e,n){const t=e.match;return e.match=e=>{let o=!1;return t&&(o=t(e)),o&&n.every((n=>n.match&&!n.match(e)))},e}(fe("def"),[de("on")])),ce("Directive"),de("on"),se("Number","number"),se("Name","builtin"),se("Name","keyword"),fe("string-2"),ue("["),ce("Value"),ue("]"),ue("{"),ce("ObjectField"),ue("}"),fe("attribute"),ue(":"),ue("["),ue("]"),ae(ue("!")),ae(ue("!")),ue("@","meta"),fe("meta"),ae("Arguments"),de("directive"),ue("@","meta"),fe("meta"),ae("ArgumentsDef"),de("on"),ce("DirectiveLocation",ue("|")),de("interface"),fe("atom"),ae("Implements"),ce("Directive"),ue("{"),ce("FieldDef"),ue("}"),de("implements"),ce("NamedType",ue("&")),fe("string-2"),de("schema"),ce("Directive"),ue("{"),ce("OperationTypeDef"),ue("}"),fe("keyword"),ue(":"),fe("atom"),de("scalar"),fe("atom"),ce("Directive"),de("type"),fe("atom"),ae("Implements"),ce("Directive"),ue("{"),ce("FieldDef"),ue("}"),fe("property"),ae("ArgumentsDef"),ue(":"),ce("Directive"),ue("("),ce("InputValueDef"),ue(")"),fe("attribute"),ue(":"),ae("DefaultValue"),ce("Directive"),de("union"),fe("atom"),ce("Directive"),ue("="),ce("UnionMember",ue("|")),de("enum"),fe("atom"),ce("Directive"),ue("{"),ce("EnumValueDef"),ue("}"),fe("string-2"),ce("Directive"),de("input"),fe("atom"),ce("Directive"),ue("{"),ce("InputValueDef"),ue("}"),de("extend"),i.M.SCHEMA_EXTENSION,i.M.SCALAR_TYPE_EXTENSION,i.M.OBJECT_TYPE_EXTENSION,i.M.INTERFACE_TYPE_EXTENSION,i.M.UNION_TYPE_EXTENSION,i.M.ENUM_TYPE_EXTENSION,i.M.INPUT_OBJECT_TYPE_EXTENSION,function(e){e.TYPE_SYSTEM="TYPE_SYSTEM",e.EXECUTABLE="EXECUTABLE",e.UNKNOWN="UNKNOWN"}(le||(le={})),i.M.SCHEMA_DEFINITION,i.M.OPERATION_TYPE_DEFINITION,i.M.SCALAR_TYPE_DEFINITION,i.M.OBJECT_TYPE_DEFINITION,i.M.INTERFACE_TYPE_DEFINITION,i.M.UNION_TYPE_DEFINITION,i.M.ENUM_TYPE_DEFINITION,i.M.INPUT_OBJECT_TYPE_DEFINITION,i.M.DIRECTIVE_DEFINITION,i.M.SCHEMA_EXTENSION,i.M.SCALAR_TYPE_EXTENSION,i.M.OBJECT_TYPE_EXTENSION,i.M.INTERFACE_TYPE_EXTENSION,i.M.UNION_TYPE_EXTENSION,i.M.ENUM_TYPE_EXTENSION,i.M.INPUT_OBJECT_TYPE_EXTENSION;var pe;Object.assign(Object.assign({},i.M),{ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type",VARIABLE:"Variable"}),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(pe||(pe={})),pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Function,pe.Constructor;var Ee={exports:{}};function me(e,n){if(null!=e)return e;var t=new Error(void 0!==n?n:"Got unexpected "+e);throw t.framesToPop=1,t}Ee.exports=me,Ee.exports.default=me,Object.defineProperty(Ee.exports,"__esModule",{value:!0});const Te=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),ve=e=>{const{schema:n,documentAST:t,introspectionJSON:c,introspectionJSONString:s,documentString:u}=e,l=(0,o.A)(e,a);if(n)return(0,r.A)((0,r.A)({},l),{},{documentString:(0,i.ax)(n)});if(s)return(0,r.A)((0,r.A)({},l),{},{introspectionJSONString:s});if(u)return(0,r.A)((0,r.A)({},l),{},{documentString:u});if(c)return(0,r.A)((0,r.A)({},l),{},{introspectionJSONString:JSON.stringify(c)});if(t){const e=function(e,n){null!=e&&e.kind===i.M.DOCUMENT||(0,i.av)(!1,"Must provide valid Document AST."),!0!==(null==n?void 0:n.assumeValid)&&!0!==(null==n?void 0:n.assumeValidSDL)&&ee(e);const t=ne({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,n);if(null==t.astNode)for(const r of t.types)switch(r.name){case"Query":t.query=r;break;case"Mutation":t.mutation=r;break;case"Subscription":t.subscription=r}const o=[...t.directives,...i.W.filter((e=>t.directives.every((n=>n.name!==e.name))))];return new i.aw((0,r.A)((0,r.A)({},t),{},{directives:o}))}(t,l.buildSchemaOptions);return(0,r.A)((0,r.A)({},l),{},{documentString:(0,i.ax)(e)})}throw new Error("no schema supplied")};class Ie{constructor(e){s(this,"_defaults"),s(this,"_idleCheckInterval"),s(this,"_lastUsedTime",0),s(this,"_configChangeListener"),s(this,"_worker",null),s(this,"_client",null),this._defaults=e,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._configChangeListener=this._defaults.onDidChange((()=>{this._stopWorker()}))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}async _getClient(){var e;if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{this._worker=i.ay.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:null==(e=this._defaults.schemas)?void 0:e.map(ve),externalFragmentDefinitions:this._defaults.externalFragmentDefinitions,fillLeafsOnComplete:this._defaults.completionSettings.__experimental__fillLeafsOnComplete}}}),this._client=this._worker.getProxy()}catch(n){console.error("error loading worker",n)}return this._client}async getLanguageServiceWorker(){const e=await this._getClient();for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return await this._worker.withSyncedResources(t),e}}class Ne{constructor(e,n){let t;s(this,"defaults"),s(this,"_worker"),s(this,"_disposables",[]),s(this,"_listener",Object.create(null)),this.defaults=e,this._worker=n,this._worker=n;const o=n=>{var o,r;const i=Te(n);if(i!==this.defaults.languageId)return;const a=n.uri.toString(),c=null==(r=null==(o=e.diagnosticSettings)?void 0:o.validateVariablesJSON)?void 0:r[a];t=setTimeout((()=>{this._doValidate(n.uri,i,c)}),400),this._listener[a]=n.onDidChangeContent((()=>{clearTimeout(t),t=setTimeout((()=>{this._doValidate(n.uri,i,c)}),400)}))},r=e=>{i.ay.setModelMarkers(e,this.defaults.languageId,[]);const n=e.uri.toString(),t=this._listener[n];t&&(t.dispose(),delete this._listener[n])};this._disposables.push(i.ay.onDidCreateModel(o),{dispose(){clearTimeout(t)}},i.ay.onWillDisposeModel((e=>{r(e)})),i.ay.onDidChangeModelLanguage((e=>{r(e.model),o(e.model)})),{dispose:()=>{for(const e in this._listener)this._listener[e].dispose()}},e.onDidChange((()=>{for(const e of i.ay.getModels())Te(e)===this.defaults.languageId&&(r(e),o(e))})));for(const a of i.ay.getModels())Te(a)===this.defaults.languageId&&o(a)}dispose(){for(const e of this._disposables)null==e||e.dispose();this._disposables=[]}async _doValidate(e,n,o){var a,c,s;const u=await this._worker(e);if(!u)return;const l=await u.doValidation(e.toString());if(i.ay.setModelMarkers(i.ay.getModel(e),n,l),o){if(await t.e(9338).then(t.bind(t,9338)),o.length<1)throw new Error("no variables URI strings provided to validate");const n=await u.doGetVariablesJSONSchema(e.toString());if(!n)return;const l=i.aA.file(o[0].replace(".json","-schema.json")).toString(),d={uri:l,schema:n,fileMatch:o},f=(null==(a=i.az.json.jsonDefaults.diagnosticsOptions.schemas)?void 0:a.filter((e=>e.uri!==l)))||[];i.az.json.jsonDefaults.setDiagnosticsOptions((0,r.A)((0,r.A)({schemaValidation:"error",validate:!0},null==(s=null==(c=this.defaults)?void 0:c.diagnosticSettings)?void 0:s.jsonDiagnosticSettings),{},{schemas:[...f,d],enableSchemaRequest:!1}))}}}const ge=i.az.CompletionItemKind,_e={[pe.Text]:ge.Text,[pe.Method]:ge.Method,[pe.Function]:ge.Function,[pe.Constructor]:ge.Constructor,[pe.Field]:ge.Field,[pe.Variable]:ge.Variable,[pe.Class]:ge.Class,[pe.Interface]:ge.Interface,[pe.Module]:ge.Module,[pe.Property]:ge.Property,[pe.Unit]:ge.Unit,[pe.Value]:ge.Value,[pe.Enum]:ge.Enum,[pe.Keyword]:ge.Keyword,[pe.Snippet]:ge.Snippet,[pe.Color]:ge.Color,[pe.File]:ge.File,[pe.Reference]:ge.Reference,[pe.Folder]:ge.Folder,[pe.EnumMember]:ge.EnumMember,[pe.Constant]:ge.Constant,[pe.Struct]:ge.Struct,[pe.Event]:ge.Event,[pe.Operator]:ge.Operator,[pe.TypeParameter]:ge.TypeParameter};function he(e){return e in _e?_e[e]:ge.Text}function Oe(e){var n;return{range:e.range,kind:he(e.kind),label:e.label,insertText:null!==(n=e.insertText)&&void 0!==n?n:e.label,insertTextRules:e.insertText?i.az.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}class ye{constructor(e){s(this,"_worker"),this._worker=e,this._worker=e}get triggerCharacters(){return[":","$"," ","(","@"]}async provideCompletionItems(e,n,t,o){try{const t=e.uri;return{incomplete:!0,suggestions:(await(await this._worker(e.uri)).doComplete(t.toString(),n)).map(Oe)}}catch(r){return console.error("Error fetching completion items",r),{suggestions:[]}}}}class Se{constructor(e){s(this,"_worker"),this._worker=e,this._worker=e}async provideDocumentFormattingEdits(e,n,t){const o=await(await this._worker(e.uri)).doFormat(e.uri.toString());return o?[{range:e.getFullModelRange(),text:o}]:[]}}class Me{constructor(e){s(this,"_worker"),this._worker=e}async provideHover(e,n,t){const o=e.uri,r=await(await this._worker(e.uri)).doHover(o.toString(),n);return r?{range:r.range,contents:[{value:r.content}]}:{contents:[]}}dispose(){}}function De(e){const n=[],t=[],o=new Ie(e);n.push(o);const r=function(){try{return o.getLanguageServiceWorker(...arguments)}catch(e){throw new Error("Error fetching graphql language service worker")}};function a(){const{modeConfiguration:n,languageId:o}=e;n.documentFormattingEdits&&t.push(i.az.registerDocumentFormattingEditProvider(o,new Se(r)))}function c(n){const{modeConfiguration:o,languageId:c}=e;Ae(t),o.completionItems&&t.push(i.az.registerCompletionItemProvider(c,new ye(r))),o.diagnostics&&t.push(new Ne(n,r)),o.hovers&&t.push(i.az.registerHoverProvider(c,new Me(r))),a()}let{modeConfiguration:s,formattingOptions:u,diagnosticSettings:l,externalFragmentDefinitions:d,schemas:f}=e;return c(e),e.onDidChange((e=>{e.modeConfiguration!==s&&(s=e.modeConfiguration,c(e)),e.formattingOptions!==u&&(u=e.formattingOptions,a()),e.externalFragmentDefinitions!==d&&(d=e.externalFragmentDefinitions,c(e)),e.diagnosticSettings!==l&&(l=e.diagnosticSettings,c(e)),e.schemas!==f&&(f=e.schemas,c(e))})),n.push(be(t)),be(n)}function be(e){return{dispose:()=>Ae(e)}}function Ae(e){for(;e.length;)e.pop().dispose()}}}]);