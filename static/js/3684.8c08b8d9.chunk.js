"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3684],{3684:(e,n,t)=>{t.r(n),t.d(n,{setupMode:()=>Oe});var o=t(6437),r=Object.defineProperty,i=(e,n,t)=>((e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t)(e,"symbol"!=typeof n?n+"":n,t);function c(e,n,t){return n===t||((0,o.cu)(t)?!!(0,o.cu)(n)&&c(e,n.ofType,t.ofType):(0,o.cu)(n)?c(e,n.ofType,t):(0,o.cv)(t)?!!(0,o.cv)(n)&&c(e,n.ofType,t.ofType):!(0,o.cv)(n)&&((0,o.cw)(t)&&((0,o.cx)(n)||(0,o.cy)(n))&&e.isSubType(t,n)))}function a(e,n,t){return n===t||((0,o.cw)(n)?(0,o.cw)(t)?e.getPossibleTypes(n).some((n=>e.isSubType(t,n))):e.isSubType(n,t):!!(0,o.cw)(t)&&e.isSubType(t,n))}function s(e,n){switch(n.kind){case o.cz.LIST_TYPE:{const t=s(e,n.type);return t&&new o.cB(t)}case o.cz.NON_NULL_TYPE:{const t=s(e,n.type);return t&&new o.cA(t)}case o.cz.NAMED_TYPE:return e.getType(n.name.value)}}function u(e){return e.kind===o.cz.OPERATION_DEFINITION||e.kind===o.cz.FRAGMENT_DEFINITION}function l(e){return e.kind===o.cz.SCALAR_TYPE_DEFINITION||e.kind===o.cz.OBJECT_TYPE_DEFINITION||e.kind===o.cz.INTERFACE_TYPE_DEFINITION||e.kind===o.cz.UNION_TYPE_DEFINITION||e.kind===o.cz.ENUM_TYPE_DEFINITION||e.kind===o.cz.INPUT_OBJECT_TYPE_DEFINITION}function d(e){return e.kind===o.cz.SCALAR_TYPE_EXTENSION||e.kind===o.cz.OBJECT_TYPE_EXTENSION||e.kind===o.cz.INTERFACE_TYPE_EXTENSION||e.kind===o.cz.UNION_TYPE_EXTENSION||e.kind===o.cz.ENUM_TYPE_EXTENSION||e.kind===o.cz.INPUT_OBJECT_TYPE_EXTENSION}function f(e){const n=Object.create(null),t=e.getSchema(),r=t?t.getDirectives():o.cI;for(const o of r)n[o.name]=o.args.map((e=>e.name));const i=e.getDocument().definitions;for(const a of i)if(a.kind===o.cz.DIRECTIVE_DEFINITION){var c;const e=null!==(c=a.arguments)&&void 0!==c?c:[];n[a.name.value]=e.map((e=>e.name.value))}return{Directive(t){const r=t.name.value,i=n[r];if(t.arguments&&i)for(const n of t.arguments){const t=n.name.value;if(!i.includes(t)){const c=(0,o.cF)(t,i);e.reportError(new o.cC(`Unknown argument "${t}" on directive "@${r}".`+(0,o.cD)(c),{nodes:n}))}}return!1}}}function E(e){const n=Object.create(null),t=e.getSchema(),r=t?t.getDirectives():o.cI;for(const o of r)n[o.name]=o.locations;const i=e.getDocument().definitions;for(const c of i)c.kind===o.cz.DIRECTIVE_DEFINITION&&(n[c.name.value]=c.locations.map((e=>e.value)));return{Directive(t,r,i,c,a){const s=t.name.value,u=n[s];if(!u)return void e.reportError(new o.cC(`Unknown directive "@${s}".`,{nodes:t}));const l=function(e){const n=e[e.length-1];switch("kind"in n||(0,o.cJ)(!1),n.kind){case o.cz.OPERATION_DEFINITION:return function(e){switch(e){case o.cM.QUERY:return o.cL.QUERY;case o.cM.MUTATION:return o.cL.MUTATION;case o.cM.SUBSCRIPTION:return o.cL.SUBSCRIPTION}}(n.operation);case o.cz.FIELD:return o.cL.FIELD;case o.cz.FRAGMENT_SPREAD:return o.cL.FRAGMENT_SPREAD;case o.cz.INLINE_FRAGMENT:return o.cL.INLINE_FRAGMENT;case o.cz.FRAGMENT_DEFINITION:return o.cL.FRAGMENT_DEFINITION;case o.cz.VARIABLE_DEFINITION:return o.cL.VARIABLE_DEFINITION;case o.cz.SCHEMA_DEFINITION:case o.cz.SCHEMA_EXTENSION:return o.cL.SCHEMA;case o.cz.SCALAR_TYPE_DEFINITION:case o.cz.SCALAR_TYPE_EXTENSION:return o.cL.SCALAR;case o.cz.OBJECT_TYPE_DEFINITION:case o.cz.OBJECT_TYPE_EXTENSION:return o.cL.OBJECT;case o.cz.FIELD_DEFINITION:return o.cL.FIELD_DEFINITION;case o.cz.INTERFACE_TYPE_DEFINITION:case o.cz.INTERFACE_TYPE_EXTENSION:return o.cL.INTERFACE;case o.cz.UNION_TYPE_DEFINITION:case o.cz.UNION_TYPE_EXTENSION:return o.cL.UNION;case o.cz.ENUM_TYPE_DEFINITION:case o.cz.ENUM_TYPE_EXTENSION:return o.cL.ENUM;case o.cz.ENUM_VALUE_DEFINITION:return o.cL.ENUM_VALUE;case o.cz.INPUT_OBJECT_TYPE_DEFINITION:case o.cz.INPUT_OBJECT_TYPE_EXTENSION:return o.cL.INPUT_OBJECT;case o.cz.INPUT_VALUE_DEFINITION:{const n=e[e.length-3];return"kind"in n||(0,o.cJ)(!1),n.kind===o.cz.INPUT_OBJECT_TYPE_DEFINITION?o.cL.INPUT_FIELD_DEFINITION:o.cL.ARGUMENT_DEFINITION}default:(0,o.cJ)(!1,"Unexpected kind: "+(0,o.cK)(n.kind))}}(a);l&&!u.includes(l)&&e.reportError(new o.cC(`Directive "@${s}" may not be used on ${l}.`,{nodes:t}))}}}function p(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),r=Object.create(null);for(const o of e.getDocument().definitions)l(o)&&(r[o.name.value]=!0);const i=[...Object.keys(t),...Object.keys(r)];return{NamedType(n,c,a,s,u){const f=n.name.value;if(!t[f]&&!r[f]){var E;const t=null!==(E=u[2])&&void 0!==E?E:a,r=null!=t&&function(e){return"kind"in e&&(function(e){return e.kind===o.cz.SCHEMA_DEFINITION||l(e)||e.kind===o.cz.DIRECTIVE_DEFINITION}(e)||function(e){return e.kind===o.cz.SCHEMA_EXTENSION||d(e)}(e))}(t);if(r&&m.includes(f))return;const c=(0,o.cF)(f,r?m.concat(i):i);e.reportError(new o.cC(`Unknown type "${f}".`+(0,o.cD)(c),{nodes:n}))}}}}const m=[...o.cN,...o.cO].map((e=>e.name));function v(e){switch(e.kind){case o.cz.OBJECT:return{...e,fields:T(e.fields)};case o.cz.LIST:return{...e,values:e.values.map(v)};case o.cz.INT:case o.cz.FLOAT:case o.cz.STRING:case o.cz.BOOLEAN:case o.cz.NULL:case o.cz.ENUM:case o.cz.VARIABLE:return e}}function T(e){return e.map((e=>({...e,value:v(e.value)}))).sort(((e,n)=>(0,o.cE)(e.name.value,n.name.value)))}function I(e){return Array.isArray(e)?e.map((e=>{let[n,t]=e;return`subfields "${n}" conflict because `+I(t)})).join(" and "):e}function N(e,n,t,o,r,i,c){const a=e.getFragment(c);if(!a)return;const[s,u]=D(e,t,a);if(i!==s){_(e,n,t,o,r,i,s);for(const a of u)o.has(a,c,r)||(o.add(a,c,r),N(e,n,t,o,r,i,a))}}function g(e,n,t,o,r,i,c){if(i===c||o.has(i,c,r))return;o.add(i,c,r);const a=e.getFragment(i),s=e.getFragment(c);if(!a||!s)return;const[u,l]=D(e,t,a),[d,f]=D(e,t,s);_(e,n,t,o,r,u,d);for(const E of f)g(e,n,t,o,r,i,E);for(const E of l)g(e,n,t,o,r,E,c)}function _(e,n,t,o,r,i,c){for(const[a,s]of Object.entries(i)){const i=c[a];if(i)for(const c of s)for(const s of i){const i=h(e,t,o,r,a,c,s);i&&n.push(i)}}}function h(e,n,t,r,i,c,a){const[s,u,l]=c,[d,f,E]=a,p=r||s!==d&&(0,o.cy)(s)&&(0,o.cy)(d);if(!p){const e=u.name.value,n=f.name.value;if(e!==n)return[[i,`"${e}" and "${n}" are different fields`],[u],[f]];if(!function(e,n){const t=e.arguments,o=n.arguments;if(void 0===t||0===t.length)return void 0===o||0===o.length;if(void 0===o||0===o.length||t.length!==o.length)return!1;const r=new Map(o.map((e=>{let{name:n,value:t}=e;return[n.value,t]})));return t.every((e=>{const n=e.value,t=r.get(e.name.value);return void 0!==t&&O(n)===O(t)}))}(u,f))return[[i,"they have differing arguments"],[u],[f]]}const m=null==l?void 0:l.type,v=null==E?void 0:E.type;if(m&&v&&y(m,v))return[[i,`they return conflicting types "${(0,o.cK)(m)}" and "${(0,o.cK)(v)}"`],[u],[f]];const T=u.selectionSet,I=f.selectionSet;if(T&&I){const r=function(e,n,t,o,r,i,c,a){const s=[],[u,l]=S(e,n,r,i),[d,f]=S(e,n,c,a);_(e,s,n,t,o,u,d);for(const E of f)N(e,s,n,t,o,u,E);for(const E of l)N(e,s,n,t,o,d,E);for(const E of l)for(const r of f)g(e,s,n,t,o,E,r);return s}(e,n,t,p,(0,o.cP)(m),T,(0,o.cP)(v),I);return function(e,n,t,o){if(e.length>0)return[[n,e.map((e=>{let[n]=e;return n}))],[t,...e.map((e=>{let[,n]=e;return n})).flat()],[o,...e.map((e=>{let[,,n]=e;return n})).flat()]]}(r,i,u,f)}}function O(e){return(0,o.cH)(v(e))}function y(e,n){return(0,o.cv)(e)?!(0,o.cv)(n)||y(e.ofType,n.ofType):!!(0,o.cv)(n)||((0,o.cu)(e)?!(0,o.cu)(n)||y(e.ofType,n.ofType):!!(0,o.cu)(n)||!(!(0,o.cQ)(e)&&!(0,o.cQ)(n))&&e!==n)}function S(e,n,t,o){const r=n.get(o);if(r)return r;const i=Object.create(null),c=Object.create(null);b(e,t,o,i,c);const a=[i,Object.keys(c)];return n.set(o,a),a}function D(e,n,t){const o=n.get(t.selectionSet);if(o)return o;const r=s(e.getSchema(),t.typeCondition);return S(e,n,r,t.selectionSet)}function b(e,n,t,r,i){for(const c of t.selections)switch(c.kind){case o.cz.FIELD:{const e=c.name.value;let t;((0,o.cy)(n)||(0,o.cx)(n))&&(t=n.getFields()[e]);const i=c.alias?c.alias.value:e;r[i]||(r[i]=[]),r[i].push([n,c,t]);break}case o.cz.FRAGMENT_SPREAD:i[c.name.value]=!0;break;case o.cz.INLINE_FRAGMENT:{const t=c.typeCondition,o=t?s(e.getSchema(),t):n;b(e,o,c.selectionSet,r,i);break}}}class C{constructor(){this._data=new Map}has(e,n,t){var o;const[r,i]=e<n?[e,n]:[n,e],c=null===(o=this._data.get(r))||void 0===o?void 0:o.get(i);return void 0!==c&&(!!t||t===c)}add(e,n,t){const[o,r]=e<n?[e,n]:[n,e],i=this._data.get(o);void 0===i?this._data.set(o,new Map([[r,t]])):i.set(r,t)}}const F={[o.cz.SCALAR_TYPE_DEFINITION]:o.cz.SCALAR_TYPE_EXTENSION,[o.cz.OBJECT_TYPE_DEFINITION]:o.cz.OBJECT_TYPE_EXTENSION,[o.cz.INTERFACE_TYPE_DEFINITION]:o.cz.INTERFACE_TYPE_EXTENSION,[o.cz.UNION_TYPE_DEFINITION]:o.cz.UNION_TYPE_EXTENSION,[o.cz.ENUM_TYPE_DEFINITION]:o.cz.ENUM_TYPE_EXTENSION,[o.cz.INPUT_OBJECT_TYPE_DEFINITION]:o.cz.INPUT_OBJECT_TYPE_EXTENSION};function w(e){var n;const t=Object.create(null),r=e.getSchema(),i=null!==(n=null==r?void 0:r.getDirectives())&&void 0!==n?n:o.cI;for(const s of i)t[s.name]=(0,o.cW)(s.args.filter(o.cV),(e=>e.name));const c=e.getDocument().definitions;for(const s of c)if(s.kind===o.cz.DIRECTIVE_DEFINITION){var a;const e=null!==(a=s.arguments)&&void 0!==a?a:[];t[s.name.value]=(0,o.cW)(e.filter(A),(e=>e.name.value))}return{Directive:{leave(n){const r=n.name.value,i=t[r];if(i){var c;const t=null!==(c=n.arguments)&&void 0!==c?c:[],a=new Set(t.map((e=>e.name.value)));for(const[c,s]of Object.entries(i))if(!a.has(c)){const t=(0,o.cX)(s.type)?(0,o.cK)(s.type):(0,o.cH)(s.type);e.reportError(new o.cC(`Directive "@${r}" argument "${c}" of type "${t}" is required, but it was not provided.`,{nodes:n}))}}}}}}function A(e){return e.type.kind===o.cz.NON_NULL_TYPE&&null==e.defaultValue}function P(e,n,t){var r;const i=null===(r=n.directives)||void 0===r?void 0:r.find((n=>n.name.value===e.name));if(i)return function(e,n,t){var r;const i={},c=null!==(r=n.arguments)&&void 0!==r?r:[],a=(0,o.cW)(c,(e=>e.name.value));for(const s of e.args){const e=s.name,r=s.type,c=a[e];if(!c){if(void 0!==s.defaultValue)i[e]=s.defaultValue;else if((0,o.cu)(r))throw new o.cC(`Argument "${e}" of required type "${(0,o.cK)(r)}" was not provided.`,{nodes:n});continue}const u=c.value;let l=u.kind===o.cz.NULL;if(u.kind===o.cz.VARIABLE){const n=u.name.value;if(null==t||!k(t,n)){if(void 0!==s.defaultValue)i[e]=s.defaultValue;else if((0,o.cu)(r))throw new o.cC(`Argument "${e}" of required type "${(0,o.cK)(r)}" was provided the variable "$${n}" which was not provided a runtime value.`,{nodes:u});continue}l=null==t[n]}if(l&&(0,o.cu)(r))throw new o.cC(`Argument "${e}" of non-null type "${(0,o.cK)(r)}" must not be null.`,{nodes:u});const d=(0,o.cY)(u,r,t);if(void 0===d)throw new o.cC(`Argument "${e}" has invalid value ${(0,o.cH)(u)}.`,{nodes:u});i[e]=d}return i}(e,i,t)}function k(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function z(e,n,t,o,r){const i=new Map;return $(e,n,t,o,r,i,new Set),i}function $(e,n,t,r,i,c,a){for(const s of i.selections)switch(s.kind){case o.cz.FIELD:{if(!U(t,s))continue;const e=R(s),n=c.get(e);void 0!==n?n.push(s):c.set(e,[s]);break}case o.cz.INLINE_FRAGMENT:if(!U(t,s)||!M(e,s,r))continue;$(e,n,t,r,s.selectionSet,c,a);break;case o.cz.FRAGMENT_SPREAD:{const o=s.name.value;if(a.has(o)||!U(t,s))continue;a.add(o);const i=n[o];if(!i||!M(e,i,r))continue;$(e,n,t,r,i.selectionSet,c,a);break}}}function U(e,n){const t=P(o.cZ,n,e);if(!0===(null==t?void 0:t.if))return!1;const r=P(o.c_,n,e);return!1!==(null==r?void 0:r.if)}function M(e,n,t){const r=n.typeCondition;if(!r)return!0;const i=s(e,r);return i===t||!!(0,o.cw)(i)&&e.isSubType(i,t)}function R(e){return e.alias?e.alias.value:e.name.value}function L(e,n){const t=new Map;for(const o of e){const e=n(o),r=t.get(e);void 0===r?t.set(e,[o]):r.push(o)}return t}function j(e){return{Field:n,Directive:n};function n(n){var t;const r=L(null!==(t=n.arguments)&&void 0!==t?t:[],(e=>e.name.value));for(const[i,c]of r)c.length>1&&e.reportError(new o.cC(`There can be only one argument named "${i}".`,{nodes:c.map((e=>e.name))}))}}function x(e){const n=Object.create(null),t=e.getSchema(),r=t?t.getDirectives():o.cI;for(const o of r)n[o.name]=!o.isRepeatable;const i=e.getDocument().definitions;for(const s of i)s.kind===o.cz.DIRECTIVE_DEFINITION&&(n[s.name.value]=!s.repeatable);const c=Object.create(null),a=Object.create(null);return{enter(t){if(!("directives"in t)||!t.directives)return;let r;if(t.kind===o.cz.SCHEMA_DEFINITION||t.kind===o.cz.SCHEMA_EXTENSION)r=c;else if(l(t)||d(t)){const e=t.name.value;r=a[e],void 0===r&&(a[e]=r=Object.create(null))}else r=Object.create(null);for(const i of t.directives){const t=i.name.value;n[t]&&(r[t]?e.reportError(new o.cC(`The directive "@${t}" can only be used once at this location.`,{nodes:[r[t],i]})):r[t]=i)}}}}function V(e,n){return!!((0,o.cy)(e)||(0,o.cx)(e)||(0,o.cU)(e))&&null!=e.getFields()[n]}function Y(e){const n=[];let t=Object.create(null);return{ObjectValue:{enter(){n.push(t),t=Object.create(null)},leave(){const e=n.pop();e||(0,o.cJ)(!1),t=e}},ObjectField(n){const r=n.name.value;t[r]?e.reportError(new o.cC(`There can be only one input field named "${r}".`,{nodes:[t[r],n.name]})):t[r]=n.name}}}function X(e,n){const t=e.getInputType();if(!t)return;const r=(0,o.cP)(t);if((0,o.cQ)(r))try{if(void 0===r.parseLiteral(n,void 0)){const r=(0,o.cK)(t);e.reportError(new o.cC(`Expected value of type "${r}", found ${(0,o.cH)(n)}.`,{nodes:n}))}}catch(i){const r=(0,o.cK)(t);i instanceof o.cC?e.reportError(i):e.reportError(new o.cC(`Expected value of type "${r}", found ${(0,o.cH)(n)}; `+i.message,{nodes:n,originalError:i}))}else{const r=(0,o.cK)(t);e.reportError(new o.cC(`Expected value of type "${r}", found ${(0,o.cH)(n)}.`,{nodes:n}))}}function B(e,n,t,r,i){if((0,o.cu)(r)&&!(0,o.cu)(n)){if((null==t||t.kind===o.cz.NULL)&&void 0===i)return!1;return c(e,n,r.ofType)}return c(e,n,r)}const J=Object.freeze([function(e){function n(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.kind===o.cz.FRAGMENT_SPREAD){const o=t.name.value;if(!0===r[o])return!1;const c=e.getFragment(o);if(!c)return!1;try{return r[o]=!0,n(c,r,i)}finally{r[o]=void 0}}if(t.kind===o.cz.FIELD&&("fields"===t.name.value||"interfaces"===t.name.value||"possibleTypes"===t.name.value||"inputFields"===t.name.value)&&(i++,i>=3))return!0;if("selectionSet"in t&&t.selectionSet)for(const e of t.selectionSet.selections)if(n(e,r,i))return!0;return!1}return{Field(t){if(("__schema"===t.name.value||"__type"===t.name.value)&&n(t))return e.reportError(new o.cC("Maximum introspection depth exceeded",{nodes:[t]})),!1}}}]);Object.freeze([function(e){return{Document(n){for(const t of n.definitions)if(!u(t)){const n=t.kind===o.cz.SCHEMA_DEFINITION||t.kind===o.cz.SCHEMA_EXTENSION?"schema":'"'+t.name.value+'"';e.reportError(new o.cC(`The ${n} definition is not executable.`,{nodes:t}))}return!1}}},function(e){const n=Object.create(null);return{OperationDefinition(t){const r=t.name;return r&&(n[r.value]?e.reportError(new o.cC(`There can be only one operation named "${r.value}".`,{nodes:[n[r.value],r]})):n[r.value]=r),!1},FragmentDefinition:()=>!1}},function(e){let n=0;return{Document(e){n=e.definitions.filter((e=>e.kind===o.cz.OPERATION_DEFINITION)).length},OperationDefinition(t){!t.name&&n>1&&e.reportError(new o.cC("This anonymous operation must be the only defined operation.",{nodes:t}))}}},function(e){return{OperationDefinition(n){if("subscription"===n.operation){const t=e.getSchema(),r=t.getSubscriptionType();if(r){const i=n.name?n.name.value:null,c=Object.create(null),a=e.getDocument(),s=Object.create(null);for(const e of a.definitions)e.kind===o.cz.FRAGMENT_DEFINITION&&(s[e.name.value]=e);const u=z(t,s,c,r,n.selectionSet);if(u.size>1){const n=[...u.values()].slice(1).flat();e.reportError(new o.cC(null!=i?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:n}))}for(const n of u.values())n[0].name.value.startsWith("__")&&e.reportError(new o.cC(null!=i?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:n}))}}}}},p,function(e){return{InlineFragment(n){const t=n.typeCondition;if(t){const n=s(e.getSchema(),t);if(n&&!(0,o.cG)(n)){const n=(0,o.cH)(t);e.reportError(new o.cC(`Fragment cannot condition on non composite type "${n}".`,{nodes:t}))}}},FragmentDefinition(n){const t=s(e.getSchema(),n.typeCondition);if(t&&!(0,o.cG)(t)){const t=(0,o.cH)(n.typeCondition);e.reportError(new o.cC(`Fragment "${n.name.value}" cannot condition on non composite type "${t}".`,{nodes:n.typeCondition}))}}}},function(e){return{VariableDefinition(n){const t=s(e.getSchema(),n.type);if(void 0!==t&&!(0,o.d1)(t)){const t=n.variable.name.value,r=(0,o.cH)(n.type);e.reportError(new o.cC(`Variable "$${t}" cannot be non-input type "${r}".`,{nodes:n.type}))}}}},function(e){return{Field(n){const t=e.getType(),r=n.selectionSet;if(t)if((0,o.cQ)((0,o.cP)(t))){if(r){const i=n.name.value,c=(0,o.cK)(t);e.reportError(new o.cC(`Field "${i}" must not have a selection since type "${c}" has no subfields.`,{nodes:r}))}}else if(!r){const r=n.name.value,i=(0,o.cK)(t);e.reportError(new o.cC(`Field "${r}" of type "${i}" must have a selection of subfields. Did you mean "${r} { ... }"?`,{nodes:n}))}}}},function(e){return{Field(n){const t=e.getParentType();if(t&&!e.getFieldDef()){const r=e.getSchema(),i=n.name.value;let c=(0,o.cD)("to use an inline fragment on",function(e,n,t){if(!(0,o.cw)(n))return[];const r=new Set,i=Object.create(null);for(const o of e.getPossibleTypes(n))if(o.getFields()[t]){r.add(o),i[o.name]=1;for(const e of o.getInterfaces()){var c;e.getFields()[t]&&(r.add(e),i[e.name]=(null!==(c=i[e.name])&&void 0!==c?c:0)+1)}}return[...r].sort(((n,t)=>{const r=i[t.name]-i[n.name];return 0!==r?r:(0,o.cx)(n)&&e.isSubType(n,t)?-1:(0,o.cx)(t)&&e.isSubType(t,n)?1:(0,o.cE)(n.name,t.name)})).map((e=>e.name))}(r,t,i));""===c&&(c=(0,o.cD)(function(e,n){if((0,o.cy)(e)||(0,o.cx)(e)){const t=Object.keys(e.getFields());return(0,o.cF)(n,t)}return[]}(t,i))),e.reportError(new o.cC(`Cannot query field "${i}" on type "${t.name}".`+c,{nodes:n}))}}}},function(e){const n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(t){const r=t.name.value;return n[r]?e.reportError(new o.cC(`There can be only one fragment named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name,!1}}},function(e){return{FragmentSpread(n){const t=n.name.value;e.getFragment(t)||e.reportError(new o.cC(`Unknown fragment "${t}".`,{nodes:n.name}))}}},function(e){const n=[],t=[];return{OperationDefinition:e=>(n.push(e),!1),FragmentDefinition:e=>(t.push(e),!1),Document:{leave(){const r=Object.create(null);for(const t of n)for(const n of e.getRecursivelyReferencedFragments(t))r[n.name.value]=!0;for(const n of t){const t=n.name.value;!0!==r[t]&&e.reportError(new o.cC(`Fragment "${t}" is never used.`,{nodes:n}))}}}}},function(e){return{InlineFragment(n){const t=e.getType(),r=e.getParentType();if((0,o.cG)(t)&&(0,o.cG)(r)&&!a(e.getSchema(),t,r)){const i=(0,o.cK)(r),c=(0,o.cK)(t);e.reportError(new o.cC(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${c}".`,{nodes:n}))}},FragmentSpread(n){const t=n.name.value,r=function(e,n){const t=e.getFragment(n);if(t){const n=s(e.getSchema(),t.typeCondition);if((0,o.cG)(n))return n}}(e,t),i=e.getParentType();if(r&&i&&!a(e.getSchema(),r,i)){const c=(0,o.cK)(i),a=(0,o.cK)(r);e.reportError(new o.cC(`Fragment "${t}" cannot be spread here as objects of type "${c}" can never be of type "${a}".`,{nodes:n}))}}}},function(e){const n=Object.create(null),t=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(i(e),!1)};function i(c){if(n[c.name.value])return;const a=c.name.value;n[a]=!0;const s=e.getFragmentSpreads(c.selectionSet);if(0!==s.length){r[a]=t.length;for(const n of s){const c=n.name.value,a=r[c];if(t.push(n),void 0===a){const n=e.getFragment(c);n&&i(n)}else{const n=t.slice(a),r=n.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new o.cC(`Cannot spread fragment "${c}" within itself`+(""!==r?` via ${r}.`:"."),{nodes:n}))}t.pop()}r[a]=void 0}}},function(e){return{OperationDefinition(n){var t;const r=L(null!==(t=n.variableDefinitions)&&void 0!==t?t:[],(e=>e.variable.name.value));for(const[i,c]of r)c.length>1&&e.reportError(new o.cC(`There can be only one variable named "$${i}".`,{nodes:c.map((e=>e.variable.name))}))}}},function(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(t){const r=e.getRecursiveVariableUsages(t);for(const{node:i}of r){const r=i.name.value;!0!==n[r]&&e.reportError(new o.cC(t.name?`Variable "$${r}" is not defined by operation "${t.name.value}".`:`Variable "$${r}" is not defined.`,{nodes:[i,t]}))}}},VariableDefinition(e){n[e.variable.name.value]=!0}}},function(e){let n=[];return{OperationDefinition:{enter(){n=[]},leave(t){const r=Object.create(null),i=e.getRecursiveVariableUsages(t);for(const{node:e}of i)r[e.name.value]=!0;for(const c of n){const n=c.variable.name.value;!0!==r[n]&&e.reportError(new o.cC(t.name?`Variable "$${n}" is never used in operation "${t.name.value}".`:`Variable "$${n}" is never used.`,{nodes:c}))}}},VariableDefinition(e){n.push(e)}}},E,x,function(e){return{...f(e),Argument(n){const t=e.getArgument(),r=e.getFieldDef(),i=e.getParentType();if(!t&&r&&i){const t=n.name.value,c=r.args.map((e=>e.name)),a=(0,o.cF)(t,c);e.reportError(new o.cC(`Unknown argument "${t}" on field "${i.name}.${r.name}".`+(0,o.cD)(a),{nodes:n}))}}}},j,function(e){let n={};return{OperationDefinition:{enter(){n={}}},VariableDefinition(e){n[e.variable.name.value]=e},ListValue(n){const t=(0,o.c$)(e.getParentInputType());if(!(0,o.cv)(t))return X(e,n),!1},ObjectValue(t){const r=(0,o.cP)(e.getInputType());if(!(0,o.cU)(r))return X(e,t),!1;const i=(0,o.cW)(t.fields,(e=>e.name.value));for(const n of Object.values(r.getFields()))if(!i[n.name]&&(0,o.d0)(n)){const i=(0,o.cK)(n.type);e.reportError(new o.cC(`Field "${r.name}.${n.name}" of required type "${i}" was not provided.`,{nodes:t}))}r.isOneOf&&function(e,n,t,r,i){var c;const a=Object.keys(r);if(1!==a.length)return void e.reportError(new o.cC(`OneOf Input Object "${t.name}" must specify exactly one key.`,{nodes:[n]}));const s=null===(c=r[a[0]])||void 0===c?void 0:c.value,u=!s||s.kind===o.cz.NULL,l=(null==s?void 0:s.kind)===o.cz.VARIABLE;if(u)return void e.reportError(new o.cC(`Field "${t.name}.${a[0]}" must be non-null.`,{nodes:[n]}));if(l){const r=s.name.value;i[r].type.kind!==o.cz.NON_NULL_TYPE&&e.reportError(new o.cC(`Variable "${r}" must be non-nullable to be used for OneOf Input Object "${t.name}".`,{nodes:[n]}))}}(e,t,r,i,n)},ObjectField(n){const t=(0,o.cP)(e.getParentInputType());if(!e.getInputType()&&(0,o.cU)(t)){const r=(0,o.cF)(n.name.value,Object.keys(t.getFields()));e.reportError(new o.cC(`Field "${n.name.value}" is not defined by type "${t.name}".`+(0,o.cD)(r),{nodes:n}))}},NullValue(n){const t=e.getInputType();(0,o.cu)(t)&&e.reportError(new o.cC(`Expected value of type "${(0,o.cK)(t)}", found ${(0,o.cH)(n)}.`,{nodes:n}))},EnumValue:n=>X(e,n),IntValue:n=>X(e,n),FloatValue:n=>X(e,n),StringValue:n=>X(e,n),BooleanValue:n=>X(e,n)}},function(e){return{...w(e),Field:{leave(n){var t;const r=e.getFieldDef();if(!r)return!1;const i=new Set(null===(t=n.arguments)||void 0===t?void 0:t.map((e=>e.name.value)));for(const c of r.args)if(!i.has(c.name)&&(0,o.cV)(c)){const t=(0,o.cK)(c.type);e.reportError(new o.cC(`Field "${r.name}" argument "${c.name}" of type "${t}" is required, but it was not provided.`,{nodes:n}))}}}}},function(e){let n=Object.create(null);return{OperationDefinition:{enter(){n=Object.create(null)},leave(t){const r=e.getRecursiveVariableUsages(t);for(const{node:i,type:c,defaultValue:a}of r){const t=i.name.value,r=n[t];if(r&&c){const n=e.getSchema(),u=s(n,r.type);if(u&&!B(n,u,r.defaultValue,c,a)){const n=(0,o.cK)(u),a=(0,o.cK)(c);e.reportError(new o.cC(`Variable "$${t}" of type "${n}" used in position expecting type "${a}".`,{nodes:[r,i]}))}}}}},VariableDefinition(e){n[e.variable.name.value]=e}}},function(e){const n=new C,t=new Map;return{SelectionSet(r){const i=function(e,n,t,o,r){const i=[],[c,a]=S(e,n,o,r);if(function(e,n,t,o,r){for(const[i,c]of Object.entries(r))if(c.length>1)for(let r=0;r<c.length;r++)for(let a=r+1;a<c.length;a++){const s=h(e,t,o,!1,i,c[r],c[a]);s&&n.push(s)}}(e,i,n,t,c),0!==a.length)for(let s=0;s<a.length;s++){N(e,i,n,t,!1,c,a[s]);for(let o=s+1;o<a.length;o++)g(e,i,n,t,!1,a[s],a[o])}return i}(e,t,n,e.getParentType(),r);for(const[[n,t],c,a]of i){const r=I(t);e.reportError(new o.cC(`Fields "${n}" conflict because ${r}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:c.concat(a)}))}}}},Y,...J]);const K=Object.freeze([function(e){var n,t,r;const i=e.getSchema(),c=null!==(n=null!==(t=null!==(r=null==i?void 0:i.astNode)&&void 0!==r?r:null==i?void 0:i.getQueryType())&&void 0!==t?t:null==i?void 0:i.getMutationType())&&void 0!==n?n:null==i?void 0:i.getSubscriptionType();let a=0;return{SchemaDefinition(n){c?e.reportError(new o.cC("Cannot define a new schema within a schema extension.",{nodes:n})):(a>0&&e.reportError(new o.cC("Must provide only one schema definition.",{nodes:n})),++a)}}},function(e){const n=e.getSchema(),t=Object.create(null),r=n?{query:n.getQueryType(),mutation:n.getMutationType(),subscription:n.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(n){var i;const c=null!==(i=n.operationTypes)&&void 0!==i?i:[];for(const a of c){const n=a.operation,i=t[n];r[n]?e.reportError(new o.cC(`Type for ${n} already defined in the schema. It cannot be redefined.`,{nodes:a})):i?e.reportError(new o.cC(`There can be only one ${n} type in schema.`,{nodes:[i,a]})):t[n]=a}return!1}},function(e){const n=Object.create(null),t=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(r){const i=r.name.value;if(null==t||!t.getType(i))return n[i]?e.reportError(new o.cC(`There can be only one type named "${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name,!1;e.reportError(new o.cC(`Type "${i}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:r.name}))}},function(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(n){var i;const c=n.name.value;r[c]||(r[c]=Object.create(null));const a=null!==(i=n.values)&&void 0!==i?i:[],s=r[c];for(const r of a){const n=r.name.value,i=t[c];(0,o.cT)(i)&&i.getValue(n)?e.reportError(new o.cC(`Enum value "${c}.${n}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:r.name})):s[n]?e.reportError(new o.cC(`Enum value "${c}.${n}" can only be defined once.`,{nodes:[s[n],r.name]})):s[n]=r.name}return!1}},function(e){const n=e.getSchema(),t=n?n.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(n){var i;const c=n.name.value;r[c]||(r[c]=Object.create(null));const a=null!==(i=n.fields)&&void 0!==i?i:[],s=r[c];for(const r of a){const n=r.name.value;V(t[c],n)?e.reportError(new o.cC(`Field "${c}.${n}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:r.name})):s[n]?e.reportError(new o.cC(`Field "${c}.${n}" can only be defined once.`,{nodes:[s[n],r.name]})):s[n]=r.name}return!1}},function(e){return{DirectiveDefinition(e){var n;const o=null!==(n=e.arguments)&&void 0!==n?n:[];return t(`@${e.name.value}`,o)},InterfaceTypeDefinition:n,InterfaceTypeExtension:n,ObjectTypeDefinition:n,ObjectTypeExtension:n};function n(e){var n;const o=e.name.value,r=null!==(n=e.fields)&&void 0!==n?n:[];for(const c of r){var i;t(`${o}.${c.name.value}`,null!==(i=c.arguments)&&void 0!==i?i:[])}return!1}function t(n,t){const r=L(t,(e=>e.name.value));for(const[i,c]of r)c.length>1&&e.reportError(new o.cC(`Argument "${n}(${i}:)" can only be defined once.`,{nodes:c.map((e=>e.name))}));return!1}},function(e){const n=Object.create(null),t=e.getSchema();return{DirectiveDefinition(r){const i=r.name.value;if(null==t||!t.getDirective(i))return n[i]?e.reportError(new o.cC(`There can be only one directive named "@${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name,!1;e.reportError(new o.cC(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}))}}},p,E,x,function(e){const n=e.getSchema(),t=Object.create(null);for(const o of e.getDocument().definitions)l(o)&&(t[o.name.value]=o);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(r){const i=r.name.value,c=t[i],a=null==n?void 0:n.getType(i);let s;if(c?s=F[c.kind]:a&&(s=function(e){if((0,o.cR)(e))return o.cz.SCALAR_TYPE_EXTENSION;if((0,o.cy)(e))return o.cz.OBJECT_TYPE_EXTENSION;if((0,o.cx)(e))return o.cz.INTERFACE_TYPE_EXTENSION;if((0,o.cS)(e))return o.cz.UNION_TYPE_EXTENSION;if((0,o.cT)(e))return o.cz.ENUM_TYPE_EXTENSION;if((0,o.cU)(e))return o.cz.INPUT_OBJECT_TYPE_EXTENSION;(0,o.cJ)(!1,"Unexpected type: "+(0,o.cK)(e))}(a)),s){if(s!==r.kind){const n=function(e){switch(e){case o.cz.SCALAR_TYPE_EXTENSION:return"scalar";case o.cz.OBJECT_TYPE_EXTENSION:return"object";case o.cz.INTERFACE_TYPE_EXTENSION:return"interface";case o.cz.UNION_TYPE_EXTENSION:return"union";case o.cz.ENUM_TYPE_EXTENSION:return"enum";case o.cz.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,o.cJ)(!1,"Unexpected kind: "+(0,o.cK)(e))}}(r.kind);e.reportError(new o.cC(`Cannot extend non-${n} type "${i}".`,{nodes:c?[c,r]:r}))}}else{const c=Object.keys({...t,...null==n?void 0:n.getTypeMap()}),a=(0,o.cF)(i,c);e.reportError(new o.cC(`Cannot extend type "${i}" because it is not defined.`+(0,o.cD)(a),{nodes:r.name}))}}},f,j,Y,w]);class H{constructor(e,n){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const e of this.getDocument().definitions)e.kind===o.cz.FRAGMENT_DEFINITION&&(n[e.name.value]=e);this._fragments=n}return n[e]}getFragmentSpreads(e){let n=this._fragmentSpreads.get(e);if(!n){n=[];const t=[e];let r;for(;r=t.pop();)for(const e of r.selections)e.kind===o.cz.FRAGMENT_SPREAD?n.push(e):e.selectionSet&&t.push(e.selectionSet);this._fragmentSpreads.set(e,n)}return n}getRecursivelyReferencedFragments(e){let n=this._recursivelyReferencedFragments.get(e);if(!n){n=[];const t=Object.create(null),o=[e.selectionSet];let r;for(;r=o.pop();)for(const e of this.getFragmentSpreads(r)){const r=e.name.value;if(!0!==t[r]){t[r]=!0;const e=this.getFragment(r);e&&(n.push(e),o.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,n)}return n}}class G extends H{constructor(e,n,t){super(e,t),this._schema=n}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function W(e){const n=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=[],i=new G(e,n,(e=>{r.push(e)})),c=t.map((e=>e(i)));return(0,o.d2)(e,(0,o.d3)(c)),r}(e);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}function q(e,n,t){var r,i,c,a;const s=[],u=Object.create(null),f=[];let E;const p=[];for(const k of n.definitions)if(k.kind===o.cz.SCHEMA_DEFINITION)E=k;else if(k.kind===o.cz.SCHEMA_EXTENSION)p.push(k);else if(l(k))s.push(k);else if(d(k)){const e=k.name.value,n=u[e];u[e]=n?n.concat([k]):[k]}else k.kind===o.cz.DIRECTIVE_DEFINITION&&f.push(k);if(0===Object.keys(u).length&&0===s.length&&0===f.length&&0===p.length&&null==E)return e;const m=Object.create(null);for(const o of e.types)m[o.name]=g(o);for(const o of s){var v;const e=o.name.value;m[e]=null!==(v=Q[e])&&void 0!==v?v:P(o)}const T={query:e.query&&N(e.query),mutation:e.mutation&&N(e.mutation),subscription:e.subscription&&N(e.subscription),...E&&O([E]),...O(p)};return{description:null===(r=E)||void 0===r||null===(i=r.description)||void 0===i?void 0:i.value,...T,types:Object.values(m),directives:[...e.directives.map((function(e){const n=e.toConfig();return new o.d4({...n,args:(0,o.d5)(n.args,h)})})),...f.map((function(e){var n;return new o.d4({name:e.name.value,description:null===(n=e.description)||void 0===n?void 0:n.value,locations:e.locations.map((e=>{let{value:n}=e;return n})),isRepeatable:e.repeatable,args:b(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(c=E)&&void 0!==c?c:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(p),assumeValid:null!==(a=null==t?void 0:t.assumeValid)&&void 0!==a&&a};function I(e){return(0,o.cv)(e)?new o.cB(I(e.ofType)):(0,o.cu)(e)?new o.cA(I(e.ofType)):N(e)}function N(e){return m[e.name]}function g(e){return(0,o.d6)(e)||(0,o.d7)(e)?e:(0,o.cR)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[t.name])&&void 0!==n?n:[];let i=t.specifiedByURL;for(const o of r){var c;i=null!==(c=ee(o))&&void 0!==c?c:i}return new o.da({...t,specifiedByURL:i,extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):(0,o.cy)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[t.name])&&void 0!==n?n:[];return new o.db({...t,interfaces:()=>[...e.getInterfaces().map(N),...w(r)],fields:()=>({...(0,o.d5)(t.fields,_),...D(r)}),extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):(0,o.cx)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[t.name])&&void 0!==n?n:[];return new o.dc({...t,interfaces:()=>[...e.getInterfaces().map(N),...w(r)],fields:()=>({...(0,o.d5)(t.fields,_),...D(r)}),extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):(0,o.cS)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[t.name])&&void 0!==n?n:[];return new o.dd({...t,types:()=>[...e.getTypes().map(N),...A(r)],extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):(0,o.cT)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[e.name])&&void 0!==n?n:[];return new o.d9({...t,values:{...t.values,...F(r)},extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):(0,o.cU)(e)?function(e){var n;const t=e.toConfig(),r=null!==(n=u[t.name])&&void 0!==n?n:[];return new o.d8({...t,fields:()=>({...(0,o.d5)(t.fields,(e=>({...e,type:I(e.type)}))),...C(r)}),extensionASTNodes:t.extensionASTNodes.concat(r)})}(e):void(0,o.cJ)(!1,"Unexpected type: "+(0,o.cK)(e))}function _(e){return{...e,type:I(e.type),args:e.args&&(0,o.d5)(e.args,h)}}function h(e){return{...e,type:I(e.type)}}function O(e){const n={};for(const o of e){var t;const e=null!==(t=o.operationTypes)&&void 0!==t?t:[];for(const t of e)n[t.operation]=y(t.type)}return n}function y(e){var n;const t=e.name.value,o=null!==(n=Q[t])&&void 0!==n?n:m[t];if(void 0===o)throw new Error(`Unknown type: "${t}".`);return o}function S(e){return e.kind===o.cz.LIST_TYPE?new o.cB(S(e.type)):e.kind===o.cz.NON_NULL_TYPE?new o.cA(S(e.type)):y(e)}function D(e){const n=Object.create(null);for(const r of e){var t;const e=null!==(t=r.fields)&&void 0!==t?t:[];for(const t of e){var o;n[t.name.value]={type:S(t.type),description:null===(o=t.description)||void 0===o?void 0:o.value,args:b(t.arguments),deprecationReason:Z(t),astNode:t}}}return n}function b(e){const n=e??[],t=Object.create(null);for(const i of n){var r;const e=S(i.type);t[i.name.value]={type:e,description:null===(r=i.description)||void 0===r?void 0:r.value,defaultValue:(0,o.cY)(i.defaultValue,e),deprecationReason:Z(i),astNode:i}}return t}function C(e){const n=Object.create(null);for(const i of e){var t;const e=null!==(t=i.fields)&&void 0!==t?t:[];for(const t of e){var r;const e=S(t.type);n[t.name.value]={type:e,description:null===(r=t.description)||void 0===r?void 0:r.value,defaultValue:(0,o.cY)(t.defaultValue,e),deprecationReason:Z(t),astNode:t}}}return n}function F(e){const n=Object.create(null);for(const r of e){var t;const e=null!==(t=r.values)&&void 0!==t?t:[];for(const t of e){var o;n[t.name.value]={description:null===(o=t.description)||void 0===o?void 0:o.value,deprecationReason:Z(t),astNode:t}}}return n}function w(e){return e.flatMap((e=>{var n,t;return null!==(n=null===(t=e.interfaces)||void 0===t?void 0:t.map(y))&&void 0!==n?n:[]}))}function A(e){return e.flatMap((e=>{var n,t;return null!==(n=null===(t=e.types)||void 0===t?void 0:t.map(y))&&void 0!==n?n:[]}))}function P(e){var n;const t=e.name.value,r=null!==(n=u[t])&&void 0!==n?n:[];switch(e.kind){case o.cz.OBJECT_TYPE_DEFINITION:{var i;const n=[e,...r];return new o.db({name:t,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>w(n),fields:()=>D(n),astNode:e,extensionASTNodes:r})}case o.cz.INTERFACE_TYPE_DEFINITION:{var c;const n=[e,...r];return new o.dc({name:t,description:null===(c=e.description)||void 0===c?void 0:c.value,interfaces:()=>w(n),fields:()=>D(n),astNode:e,extensionASTNodes:r})}case o.cz.ENUM_TYPE_DEFINITION:{var a;const n=[e,...r];return new o.d9({name:t,description:null===(a=e.description)||void 0===a?void 0:a.value,values:F(n),astNode:e,extensionASTNodes:r})}case o.cz.UNION_TYPE_DEFINITION:{var s;const n=[e,...r];return new o.dd({name:t,description:null===(s=e.description)||void 0===s?void 0:s.value,types:()=>A(n),astNode:e,extensionASTNodes:r})}case o.cz.SCALAR_TYPE_DEFINITION:var l;return new o.da({name:t,description:null===(l=e.description)||void 0===l?void 0:l.value,specifiedByURL:ee(e),astNode:e,extensionASTNodes:r});case o.cz.INPUT_OBJECT_TYPE_DEFINITION:{var d;const n=[e,...r];return new o.d8({name:t,description:null===(d=e.description)||void 0===d?void 0:d.value,fields:()=>C(n),astNode:e,extensionASTNodes:r,isOneOf:ne(e)})}}}}const Q=(0,o.cW)([...o.cN,...o.cO],(e=>e.name));function Z(e){const n=P(o.de,e);return null==n?void 0:n.reason}function ee(e){const n=P(o.df,e);return null==n?void 0:n.url}function ne(e){return!!P(o.dg,e)}function te(e){return{ofRule:e}}function oe(e,n){return{ofRule:e,isList:!0,separator:n}}function re(e,n){return{style:n,match:n=>n.kind===e}}function ie(e,n){return{style:n||"punctuation",match:n=>"Punctuation"===n.kind&&n.value===e}}var ce;function ae(e){return{style:"keyword",match:n=>"Name"===n.kind&&n.value===e}}function se(e){return{style:e,match:e=>"Name"===e.kind,update(e,n){e.name=n.value}}}oe("Definition"),ae("query"),te(se("def")),te("VariableDefinitions"),oe("Directive"),ae("mutation"),te(se("def")),te("VariableDefinitions"),oe("Directive"),ae("subscription"),te(se("def")),te("VariableDefinitions"),oe("Directive"),ie("("),oe("VariableDefinition"),ie(")"),ie(":"),te("DefaultValue"),ie("$","variable"),se("variable"),ie("="),ie("{"),oe("Selection"),ie("}"),se("property"),ie(":"),se("qualifier"),te("Arguments"),oe("Directive"),te("SelectionSet"),se("property"),te("Arguments"),oe("Directive"),te("SelectionSet"),ie("("),oe("Argument"),ie(")"),se("attribute"),ie(":"),ie("..."),se("def"),oe("Directive"),ie("..."),te("TypeCondition"),oe("Directive"),ae("fragment"),te(function(e,n){const t=e.match;return e.match=e=>{let o=!1;return t&&(o=t(e)),o&&n.every((n=>n.match&&!n.match(e)))},e}(se("def"),[ae("on")])),oe("Directive"),ae("on"),re("Number","number"),re("Name","builtin"),re("Name","keyword"),se("string-2"),ie("["),oe("Value"),ie("]"),ie("{"),oe("ObjectField"),ie("}"),se("attribute"),ie(":"),ie("["),ie("]"),te(ie("!")),te(ie("!")),ie("@","meta"),se("meta"),te("Arguments"),ae("directive"),ie("@","meta"),se("meta"),te("ArgumentsDef"),ae("on"),oe("DirectiveLocation",ie("|")),ae("interface"),se("atom"),te("Implements"),oe("Directive"),ie("{"),oe("FieldDef"),ie("}"),ae("implements"),oe("NamedType",ie("&")),se("string-2"),ae("schema"),oe("Directive"),ie("{"),oe("OperationTypeDef"),ie("}"),se("keyword"),ie(":"),se("atom"),ae("scalar"),se("atom"),oe("Directive"),ae("type"),se("atom"),te("Implements"),oe("Directive"),ie("{"),oe("FieldDef"),ie("}"),se("property"),te("ArgumentsDef"),ie(":"),oe("Directive"),ie("("),oe("InputValueDef"),ie(")"),se("attribute"),ie(":"),te("DefaultValue"),oe("Directive"),ae("union"),se("atom"),oe("Directive"),ie("="),oe("UnionMember",ie("|")),ae("enum"),se("atom"),oe("Directive"),ie("{"),oe("EnumValueDef"),ie("}"),se("string-2"),oe("Directive"),ae("input"),se("atom"),oe("Directive"),ie("{"),oe("InputValueDef"),ie("}"),ae("extend"),o.cz.SCHEMA_EXTENSION,o.cz.SCALAR_TYPE_EXTENSION,o.cz.OBJECT_TYPE_EXTENSION,o.cz.INTERFACE_TYPE_EXTENSION,o.cz.UNION_TYPE_EXTENSION,o.cz.ENUM_TYPE_EXTENSION,o.cz.INPUT_OBJECT_TYPE_EXTENSION,function(e){e.TYPE_SYSTEM="TYPE_SYSTEM",e.EXECUTABLE="EXECUTABLE",e.UNKNOWN="UNKNOWN"}(ce||(ce={})),o.cz.SCHEMA_DEFINITION,o.cz.OPERATION_TYPE_DEFINITION,o.cz.SCALAR_TYPE_DEFINITION,o.cz.OBJECT_TYPE_DEFINITION,o.cz.INTERFACE_TYPE_DEFINITION,o.cz.UNION_TYPE_DEFINITION,o.cz.ENUM_TYPE_DEFINITION,o.cz.INPUT_OBJECT_TYPE_DEFINITION,o.cz.DIRECTIVE_DEFINITION,o.cz.SCHEMA_EXTENSION,o.cz.SCALAR_TYPE_EXTENSION,o.cz.OBJECT_TYPE_EXTENSION,o.cz.INTERFACE_TYPE_EXTENSION,o.cz.UNION_TYPE_EXTENSION,o.cz.ENUM_TYPE_EXTENSION,o.cz.INPUT_OBJECT_TYPE_EXTENSION;var ue;Object.assign(Object.assign({},o.cz),{ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type",VARIABLE:"Variable"}),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(ue||(ue={})),ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Function,ue.Constructor;var le={exports:{}};function de(e,n){if(null!=e)return e;var t=new Error(void 0!==n?n:"Got unexpected "+e);throw t.framesToPop=1,t}le.exports=de,le.exports.default=de,Object.defineProperty(le.exports,"__esModule",{value:!0});const fe=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),Ee=e=>{const{schema:n,documentAST:t,introspectionJSON:r,introspectionJSONString:i,documentString:c,...a}=e;if(n)return{...a,documentString:(0,o.dj)(n)};if(i)return{...a,introspectionJSONString:i};if(c)return{...a,documentString:c};if(r)return{...a,introspectionJSONString:JSON.stringify(r)};if(t){const e=function(e,n){null!=e&&e.kind===o.cz.DOCUMENT||(0,o.dh)(!1,"Must provide valid Document AST."),!0!==(null==n?void 0:n.assumeValid)&&!0!==(null==n?void 0:n.assumeValidSDL)&&W(e);const t=q({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,n);if(null==t.astNode)for(const o of t.types)switch(o.name){case"Query":t.query=o;break;case"Mutation":t.mutation=o;break;case"Subscription":t.subscription=o}const r=[...t.directives,...o.cI.filter((e=>t.directives.every((n=>n.name!==e.name))))];return new o.di({...t,directives:r})}(t,a.buildSchemaOptions);return{...a,documentString:(0,o.dj)(e)}}throw new Error("no schema supplied")};class pe{constructor(e){i(this,"_defaults"),i(this,"_idleCheckInterval"),i(this,"_lastUsedTime",0),i(this,"_configChangeListener"),i(this,"_worker",null),i(this,"_client",null),this._defaults=e,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._configChangeListener=this._defaults.onDidChange((()=>{this._stopWorker()}))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}async _getClient(){var e;if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{this._worker=o.dk.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:null==(e=this._defaults.schemas)?void 0:e.map(Ee),externalFragmentDefinitions:this._defaults.externalFragmentDefinitions,fillLeafsOnComplete:this._defaults.completionSettings.__experimental__fillLeafsOnComplete}}}),this._client=this._worker.getProxy()}catch(n){console.error("error loading worker",n)}return this._client}async getLanguageServiceWorker(){const e=await this._getClient();for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return await this._worker.withSyncedResources(t),e}}class me{constructor(e,n){let t;i(this,"defaults"),i(this,"_worker"),i(this,"_disposables",[]),i(this,"_listener",Object.create(null)),this.defaults=e,this._worker=n,this._worker=n;const r=n=>{var o,r;const i=fe(n);if(i!==this.defaults.languageId)return;const c=n.uri.toString(),a=null==(r=null==(o=e.diagnosticSettings)?void 0:o.validateVariablesJSON)?void 0:r[c];t=setTimeout((()=>{this._doValidate(n.uri,i,a)}),400),this._listener[c]=n.onDidChangeContent((()=>{clearTimeout(t),t=setTimeout((()=>{this._doValidate(n.uri,i,a)}),400)}))},c=e=>{o.dk.setModelMarkers(e,this.defaults.languageId,[]);const n=e.uri.toString(),t=this._listener[n];t&&(t.dispose(),delete this._listener[n])};this._disposables.push(o.dk.onDidCreateModel(r),{dispose(){clearTimeout(t)}},o.dk.onWillDisposeModel((e=>{c(e)})),o.dk.onDidChangeModelLanguage((e=>{c(e.model),r(e.model)})),{dispose:()=>{for(const e in this._listener)this._listener[e].dispose()}},e.onDidChange((()=>{for(const e of o.dk.getModels())fe(e)===this.defaults.languageId&&(c(e),r(e))})));for(const i of o.dk.getModels())fe(i)===this.defaults.languageId&&r(i)}dispose(){for(const e of this._disposables)null==e||e.dispose();this._disposables=[]}async _doValidate(e,n,r){var i,c,a;const s=await this._worker(e);if(!s)return;const u=await s.doValidation(e.toString());if(o.dk.setModelMarkers(o.dk.getModel(e),n,u),r){if(await Promise.resolve().then(t.bind(t,6437)).then((e=>e.dy)),r.length<1)throw new Error("no variables URI strings provided to validate");const n=await s.doGetVariablesJSONSchema(e.toString());if(!n)return;const u=o.dm.file(r[0].replace(".json","-schema.json")).toString(),l={uri:u,schema:n,fileMatch:r},d=(null==(i=o.dl.json.jsonDefaults.diagnosticsOptions.schemas)?void 0:i.filter((e=>e.uri!==u)))||[];o.dl.json.jsonDefaults.setDiagnosticsOptions({schemaValidation:"error",validate:!0,...null==(a=null==(c=this.defaults)?void 0:c.diagnosticSettings)?void 0:a.jsonDiagnosticSettings,schemas:[...d,l],enableSchemaRequest:!1})}}}const ve=o.dl.CompletionItemKind,Te={[ue.Text]:ve.Text,[ue.Method]:ve.Method,[ue.Function]:ve.Function,[ue.Constructor]:ve.Constructor,[ue.Field]:ve.Field,[ue.Variable]:ve.Variable,[ue.Class]:ve.Class,[ue.Interface]:ve.Interface,[ue.Module]:ve.Module,[ue.Property]:ve.Property,[ue.Unit]:ve.Unit,[ue.Value]:ve.Value,[ue.Enum]:ve.Enum,[ue.Keyword]:ve.Keyword,[ue.Snippet]:ve.Snippet,[ue.Color]:ve.Color,[ue.File]:ve.File,[ue.Reference]:ve.Reference,[ue.Folder]:ve.Folder,[ue.EnumMember]:ve.EnumMember,[ue.Constant]:ve.Constant,[ue.Struct]:ve.Struct,[ue.Event]:ve.Event,[ue.Operator]:ve.Operator,[ue.TypeParameter]:ve.TypeParameter};function Ie(e){return e in Te?Te[e]:ve.Text}function Ne(e){return{range:e.range,kind:Ie(e.kind),label:e.label,insertText:e.insertText??e.label,insertTextRules:e.insertText?o.dl.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}class ge{constructor(e){i(this,"_worker"),this._worker=e,this._worker=e}get triggerCharacters(){return[":","$"," ","(","@"]}async provideCompletionItems(e,n,t,o){try{const t=e.uri;return{incomplete:!0,suggestions:(await(await this._worker(e.uri)).doComplete(t.toString(),n)).map(Ne)}}catch(r){return console.error("Error fetching completion items",r),{suggestions:[]}}}}class _e{constructor(e){i(this,"_worker"),this._worker=e,this._worker=e}async provideDocumentFormattingEdits(e,n,t){const o=await(await this._worker(e.uri)).doFormat(e.uri.toString());return o?[{range:e.getFullModelRange(),text:o}]:[]}}class he{constructor(e){i(this,"_worker"),this._worker=e}async provideHover(e,n,t){const o=e.uri,r=await(await this._worker(e.uri)).doHover(o.toString(),n);return r?{range:r.range,contents:[{value:r.content}]}:{contents:[]}}dispose(){}}function Oe(e){const n=[],t=[],r=new pe(e);n.push(r);const i=function(){try{return r.getLanguageServiceWorker(...arguments)}catch{throw new Error("Error fetching graphql language service worker")}};function c(){const{modeConfiguration:n,languageId:r}=e;n.documentFormattingEdits&&t.push(o.dl.registerDocumentFormattingEditProvider(r,new _e(i)))}function a(n){const{modeConfiguration:r,languageId:a}=e;Se(t),r.completionItems&&t.push(o.dl.registerCompletionItemProvider(a,new ge(i))),r.diagnostics&&t.push(new me(n,i)),r.hovers&&t.push(o.dl.registerHoverProvider(a,new he(i))),c()}let{modeConfiguration:s,formattingOptions:u,diagnosticSettings:l,externalFragmentDefinitions:d,schemas:f}=e;return a(e),e.onDidChange((e=>{e.modeConfiguration!==s&&(s=e.modeConfiguration,a(e)),e.formattingOptions!==u&&(u=e.formattingOptions,c()),e.externalFragmentDefinitions!==d&&(d=e.externalFragmentDefinitions,a(e)),e.diagnosticSettings!==l&&(l=e.diagnosticSettings,a(e)),e.schemas!==f&&(f=e.schemas,a(e))})),n.push(ye(t)),ye(n)}function ye(e){return{dispose:()=>Se(e)}}function Se(e){for(;e.length;)e.pop().dispose()}}}]);